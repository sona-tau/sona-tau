<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><title>C++ Prelude | My website!</title><meta name=author content="Sona Tau Estrada Rivera"><meta name=description content="Sensible defaults for a very irrational language."><meta name=keywords content="programming,computer science"><link rel=canonical href=https://stau.space/posts/cpp-prelude/><link rel=alternate hreflang=en href=https://stau.space/posts/ttps/ title><link rel=alternate hreflang=en href=https://stau.space/posts/nasin-toki/ title><link rel=alternate hreflang=en href=https://stau.space/posts/hbd/ title><link rel=alternate hreflang=en href=https://stau.space/posts/tok-style/ title><link rel=alternate hreflang=en href=https://stau.space/posts/tok-mat-faq/ title><link rel=alternate hreflang=en href=https://stau.space/posts/kulupu-pini/ title><link rel=alternate hreflang=en href=https://stau.space/posts/burritos/ title><link rel=alternate hreflang=en href=https://stau.space/posts/licker/ title><link rel=alternate hreflang=en href=https://stau.space/posts/archiver/ title><link rel=alternate hreflang=en href=https://stau.space/posts/algorithms/ title><link rel=alternate hreflang=en href=https://stau.space/posts/stuff/ title><link rel=alternate hreflang=en href=https://stau.space/posts/enchiridion-tok/ title><link rel=alternate hreflang=en href=https://stau.space/posts/aoc-2024-day1/ title><link rel=alternate hreflang=en href=https://stau.space/posts/aoc-2024-day2/ title><link rel=alternate hreflang=en href=https://stau.space/posts/tok-mat/ title><link rel=alternate hreflang=en href=https://stau.space/posts/zig-ctfp/ title><link rel=alternate hreflang=en href=https://stau.space/posts/hare-rope/ title><link rel=alternate hreflang=en href=https://stau.space/posts/rdbm/ title><link rel=alternate hreflang=en href=https://stau.space/posts/mandelbrot/ title><link rel=alternate hreflang=en href=https://stau.space/posts/icpc-regionals/ title><link rel="shortcut icon" href=https://stau.space/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=https://stau.space/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="My website!"><link rel=icon type=image/png href=https://stau.space/favicon-96x96.png sizes=96x96><link rel=icon type=image/svg+xml href=https://stau.space/favicon.svg><link rel=manifest href=https://stau.space/site.webmanifest><meta name=twitter:card content="summary"><meta name=twitter:title content="C++ Prelude | My website!"><meta name=twitter:description content="Sensible defaults for a very irrational language."><meta property="og:title" content="C++ Prelude | My website!"><meta property="og:description" content="Sensible defaults for a very irrational language."><meta property="og:type" content="article"><meta property="og:url" content="https://stau.space/posts/cpp-prelude/"><meta property="og:site_name" content="My website!"><script src=https://stau.space/js/hugo-brewm.min.js integrity=sha384-FfHH5QjSW08hEpr3bkvbqCf5gKDznbacrGy2C0wQBvkke3NSRwsn5CrtEQ2rXFP+ crossorigin=anonymous defer></script><link rel=stylesheet href=https://stau.space/css/hugo-brewm.min.css integrity="sha256-qNF8jjdZ9LQW4HYGxs6OtcPb1bv+E29sCrY+ABtRkko=" crossorigin=anonymous><style>body {max-width: 786px; margin: auto; padding: 2rem;} img {max-width: 86vw;}</style></head><body><header class=pagewidth><div id=background-header class=background aria-hidden=true></div><nav aria-label=Bypass><a id=to-content href=#content aria-label="Skip to Main Content"><span>Skip to Main Content</span>
<kbd class=key aria-hidden=true data-key=c></kbd>
<span class=screening aria-hidden=true></span></a></nav><div id=logo><a href=https://stau.space/ aria-label="My website!" aria-description=Homepage><img id=logomark--dark src=https://stau.space/favicon.svg alt="My website!">
<img id=logomark src=https://stau.space/favicon.png alt="My website!"></a><hr class=hide></div><details class=presentation id=top-nav><summary class=on-deck><span class=t>Navigation</span>
<span class=menu-icon role=presentation></span></summary><nav tabindex=-1 aria-label=Top><details id=has-main-menu class=presentation open><summary class=hide aria-label="Main Menu"><span>Main Menu</span></summary><nav id=main-menu aria-label="Main Menu"><ul class=l1 role=presentation tabindex=-1><li role=presentation><details class="presentation js-details" name=on-deck><summary class="anchor on-deck"><span>Series</span></summary><ul class="l2 on-plank" role=presentation><li role=presentation><a class=has-desc href=https://stau.space/categories/projects/ aria-label=Projects aria-description="A collection of all the projects I've worked on"><span>Projects</span></a><li role=presentation><a class=has-desc href=https://stau.space/tags/category-theory/ aria-label="Category Theory" aria-description="My category theory ramblings"><span>Category Theory</span></a></ul><div class="screening js-cpn" role=presentation aria-hidden=true></div></details><li role=presentation><details class="presentation js-details" name=on-deck><summary class="anchor on-deck"><span>Works</span></summary><ul class="l2 on-plank" role=presentation><li role=presentation><details class="presentation js-details"><summary class=anchor><span class=has-aria-label aria-label="Here are writings about the things I've done research on">Research</span></summary><ul class=l3 role=presentation><li role=presentation><a class=has-desc aria-label="REU - Villanova" aria-description="Counting arithmetical structures on double edged cycles"><span>REU - Villanova</span></a><li role=presentation><a class=has-desc aria-label="REU - MSRI-UP" aria-description="Underrepresented groups in the Mathematics community"><span>REU - MSRI-UP</span></a><li role=presentation><a class=has-desc aria-label="Multidimensional Costas Arrays" aria-description="New construction for Multidimensional almost Costas arrays"><span>Multidimensional Costas Arrays</span></a></ul></details></ul><div class="screening js-cpn" role=presentation aria-hidden=true></div></details></ul></nav></details><details id=has-search class="presentation js-details" name=on-deck><summary class="on-deck srm" accesskey=q aria-labelledby=search-label aria-keyshortcuts=q><span id=search-label class="t srt">Search</span></summary><div id=search class=on-hull><div role=presentation class="screening js-cgpn"></div></div><script src=https://stau.space/pagefind/pagefind-ui.js type=text/javascript></script><script>let pageFindInitialized=!1;const initPageFind=function(){if(!pageFindInitialized){new PagefindUI({element:"#search",showImages:!1,translations:{placeholder:"Search"}});const e=document.querySelector(".pagefind-ui__search-input");e&&(e.setAttribute("aria-label",e.getAttribute("placeholder")),e.setAttribute("name",e.getAttribute("placeholder"))),pageFindInitialized=!0,document.removeEventListener("DOMContentLoaded",initPageFind)}};document.addEventListener("DOMContentLoaded",initPageFind)</script><noscript id=has-search-fallback class=on-hull><form id=duckduckgo class="form on-plank" action=//duckduckgo.com/ role=search aria-label=Search><input type=hidden value=stau.space name=sites></input>
<input type=hidden value=1 name=kh></input>
<input type=hidden value=1 name=kn></input>
<input type=hidden value=1 name=kac></input>
<input class="ldots form__input" type=search placeholder=Search name=q role=searchbox></input>
<button class=form__button type=submit aria-label=Search>
<img src=https://duckduckgo.com/assets/logo_header.v109.svg alt=Search role=presentation aria-hidden=true></button></form><div role=presentation class="screening js-cgpn"></div></noscript></details><details id=has-more-menu class="presentation js-details" name=on-deck><summary accesskey="=" class="on-deck srm" aria-label="More Menu"><span class="t srt">More Menu</span>
<span class="menu-icon sri" role=presentation></span></summary><nav id=more-menu aria-label="More Menu"><ul class="l1 on-plank has-childfree" role=presentation tabindex=-1><li role=presentation><a href=https://stau.space/categories/reference/><span>Resources</span></a><li role=presentation><a href=https://stau.space/author/sona-tau-estrada-rivera/><span>About</span></a></ul><div class="screening js-cgpn" role=presentation aria-hidden=true></div></nav></details></nav><div id=top-nav-screen class="screening js-cpn" role=presentation aria-hidden=true></div><hr class=hide></details></header><main id=page class=post><header class=pagewidth><menu id=menu class=srm data-i18n-back="Go Back" data-i18n-print=Print data-i18n-copy="Copy URL" data-i18n-copying=Copying...><li><a id=navigatorShare href=#mastodon role=button aria-label=Share><span class="t srt" role=tooltip>Share</span></a></menu><a href=https://stau.space/>Home</a>
<a href=https://stau.space/posts/>Posts</a>
<a href=https://stau.space/tags/>Tags</a>
<a href=https://stau.space/about/>About</a><hr class=hide></header><div id=top role=presentation></div><article id=main-article class="pagewidth rm" role=document aria-labelledby=title data-pagefind-body><header aria-labelledby=title><h1 id=title data-pagefind-meta=title data-bionread-safe>C++ Prelude</h1><div id=doc-author class=textsw><span>Sona Tau Estrada Rivera</span></div><div id=timestamp><span>Published on</span>
<time datetime=2024-01-08T18:04:59-04:00>January 8, 2024</time>,
<span>modified on</span>
<time datetime=2025-12-06T20:01:13-04:00>December 6, 2025</time>.</div></header><section id=content class="content secnum" aria-labelledby=title data-bionread-safe><p>Modern C++ makes me sad when I look at it. So this is my attempt to change
several of the defaults we use to code in C++. Additionally, several features
that are missing in the language (but enabled through obscure compiler macros
and directives) are enabled.<h1 id=project-page><a href=https://codeberg.org/stau/cpp-prelude target=_blank rel="external noopener noreferrer nofollow">project page</a></h1><h2 id=includes>Includes</h2><p>Several containers and algorithms can be included using the <code>CONTAINERS</code> or
<code>ALGORITHMS</code> or <code>IO</code> directive. I use these very frequently, others might not. For that
reason they are opt-in. To enable them define the the containers or algorithms
directive <strong>before</strong> including the header.<p>Like this:<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#define CONTAINERS
</span></span></span><span class=line><span class=cl><span class=cp>#define ALGORITHMS
</span></span></span><span class=line><span class=cl><span class=cp>#define IO
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;prelude.hpp&#34;</span><span class=cp>
</span></span></span></code></pre></table></div></div><p>The following containers are included:<ul><li>unordered_map<li>unordered_set<li>queue<li>stack<li>list<li>span</ul><p>The following algorithms are included:<ul><li>algorithm<li>ranges<li>numeric</ul><p>The following io headers are included:<ul><li>format<li>fstream</ul><p>The following headers are included by default:<ul><li>cstdint<li>limits.h<li>iostream</ul><h2 id=types>Types</h2><p>A mix of the naming scheme in Rust and HolyC is very aesthetically pleasing.
Types become terse with only the information you need at a first glance.
Furthermore, for consistency, all types should begin with capital letters.<h3 id=numeric-types>Numeric Types</h3><h4 id=floats>Floats</h4><p>Most of the floating types that are mentioned in <a href=https://en.wikipedia.org/wiki/IEEE_754 target=_blank rel="external noopener noreferrer nofollow">IEEE 754</a>.<table><thead><tr><th>Prelude<th>Vanilla<tbody><tr><td><code>BF16</code><td>N/A<tr><td><code>F16</code><td>N/A<tr><td><code>F32</code><td><code>float</code><tr><td><code>D32</code><td>N/A<tr><td><code>F64</code><td><code>double</code><tr><td><code>D64</code><td>N/A<tr><td><code>F80</code><td>N/A or <code>long double</code><tr><td><code>D128</code><td>N/A<tr><td><code>F128</code><td>N/A</table><p>Additional information on the <a href=https://en.wikipedia.org/wiki/Bfloat16_floating-point_format target=_blank rel="external noopener noreferrer nofollow">brain floating data type</a>.<table><thead><tr><th>Prelude<th>Vanilla<tbody><tr><td><code>Size</code><td><code>std::size_t</code><tr><td><code>Int</code><td>N/A<tr><td><code>U8</code><td><code>uint8_t</code><tr><td><code>U16</code><td><code>uint16_t</code><tr><td><code>U32</code><td><code>uint32_t</code><tr><td><code>U64</code><td><code>uint64_t</code><tr><td><code>U128</code><td>N/A<tr><td><code>I8</code><td><code>int8_t</code><tr><td><code>I16</code><td><code>int16_t</code><tr><td><code>I32</code><td><code>int32_t</code><tr><td><code>I64</code><td><code>int64_t</code><tr><td><code>I128</code><td>N/A</table><p>These changes beg the question: What is wrong with <code>int</code>?
Well <code>int</code> would be a perfectly valid type if C++ supported Big Integers like
Java does. The problem is <code>int</code> is fixed to a type that is <em>sometimes</em> 32-bits
and other times something else. I think this is very inelegant and needlessly
terse. It is better to simply know what kind of integer and bit-width it takes
up.<p>The only exception to this rule being <code>Size</code> and <code>Int</code>. For the former we want
to preserve the ability to scale depending on what system runs the binary. For
the latter we want to optimize the CI development cycle, so the less worries the
better. If you want an <code>Int</code> then have an <code>Int</code>.<h3 id=other-types>Other Types</h3><table><thead><tr><th>Prelude<th>Vanilla<tbody><tr><td><code>Unit</code><td><code>void</code><tr><td><code>Void</code><td>N/A<tr><td><code>Bool</code><td><code>bool</code><tr><td><code>Char</code><td><code>char</code><tr><td><code>Handle&lt;T></code><td><code>T*</code><tr><td><code>Ref&lt;T></code><td><code>T&</code><tr><td><code>Vector</code><td><code>std::vector&lt;T></code><tr><td><code>String</code><td><code>std::string</code><tr><td><code>CString</code><td><code>const char *</code></table><p>In most situations, it is clearer to write the type as a <code>Handle&lt;T></code> than a <code>T*</code>.
Same goes for <code>Ref&lt;T></code>.
This also remains consistent with the implementation of smart pointers in the
standard library, for example <code>std::unique_ptr&lt;T></code>.<p><code>std::string_literals</code> are enabled by default.<h2 id=keywords>Keywords</h2><table><thead><tr><th>Prelude<th>Vanilla<tbody><tr><td><code>let</code><td><code>auto const</code><tr><td><code>var</code><td><code>auto</code><tr><td><code>fn</code><td><code>[[nodiscard, gnu::const]] auto</code><tr><td><code>proc</code><td><code>[[nodiscard]] auto</code><tr><td><code>ignored = foo();</code><td><code>static_cast&lt;void>(foo());</code><tr><td><code>fst</code><td><code>std::get&lt;0></code><tr><td><code>snd</code><td><code>std::get&lt;1></code><tr><td><code>thr</code><td><code>std::get&lt;2></code></table><p>You define terms as <code>let x = 0;</code>. If you need the term to be of any specific
numeric type then use suffixes like: <code>let x = 0u;</code> (x is unsigned).
If you need a variable term then use the <code>var</code> keyword instead. The motivation
for this is that you should prefer immutable terms before considering mutable
variables.<p>All functions should be <code>[[nodiscard]]</code> and be annotated with trailing return
types.
If you need to ignore the return value of a function then use <code>ignore = ...</code> to
explicitly ignore it.
Additionally, the term <code>fn</code> (function) should be used in its most literal
mathematical sense, for a given input it will always produce the same output.
If you want to do something that requires side effects then use the <code>proc</code>
(procedure) keyword instead.<p><code>fst</code>, <code>snd</code> and <code>thr</code> naming conventions are taken from Haskell. The motivation
being that <code>std::get&lt;#></code> is extremely verbose for accessing the
first/second/third/etc members of that tuple.<h2 id=better-main>Better Main</h2><p>The way <code>main</code> is defined for use is very old. It is not type safe and uses old
types like c-strings. We can, instead, make a better <code>Main</code> that is the one we
define our program in and forward the arguments in a type-safe manner.<p>Implementation taken from <a href="https://www.youtube.com/watch?v=zCzD9uSDI8c" target=_blank rel="external noopener noreferrer nofollow">C++ Weekly ep 361 by Jason Turner</a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>I32</span> <span class=nf>main</span><span class=p>(</span><span class=k>const</span> <span class=n>I32</span> <span class=n>argc</span><span class=p>,</span> <span class=k>const</span> <span class=n>Handle</span><span class=o>&lt;</span><span class=k>const</span> <span class=n>CString</span><span class=o>&gt;</span> <span class=n>argv</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// declare function inside main
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>proc</span> <span class=n>Main</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>span</span><span class=o>&lt;</span><span class=k>const</span> <span class=n>std</span><span class=o>::</span><span class=n>string_view</span><span class=o>&gt;</span><span class=p>)</span> <span class=k>noexcept</span> <span class=o>-&gt;</span> <span class=n>I32</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// pass arguments to safe main
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>let</span> <span class=n>args</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>string_view</span><span class=o>&gt;</span><span class=p>(</span><span class=n>argv</span><span class=p>,</span> <span class=n>std</span><span class=o>::</span><span class=n>next</span><span class=p>(</span><span class=n>argv</span><span class=p>,</span> <span class=k>static_cast</span><span class=o>&lt;</span><span class=n>std</span><span class=o>::</span><span class=n>ptrdiff_t</span><span class=o>&gt;</span><span class=p>(</span><span class=n>argc</span><span class=p>)));</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>Main</span><span class=p>(</span><span class=n>args</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></table></div></div><p>NOTE: It has been mentioned that <code>argv</code> has historically been used for passing
sensitive information like passwords to programs. In that case, the array used
to store the different arguments is chopped up to remove the sensitive
information. For now, this method does not allow do that. Furthermore,
sending sensitive information through command line arguments is a bad idea IMO.<h3 id=short-example>Short example</h3><p>Solution for Rosetta Code &ldquo;<a href=https://rosettacode.org/wiki/Balanced_brackets target=_blank rel="external noopener noreferrer nofollow">Balanced Brackets</a>&rdquo;
using this prelude.<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;format&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;random&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;prelude.hpp&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>proc</span> <span class=nf>generate</span><span class=p>(</span><span class=n>I32</span> <span class=n>n</span><span class=p>,</span> <span class=n>Char</span> <span class=n>left</span> <span class=o>=</span> <span class=sc>&#39;[&#39;</span><span class=p>,</span> <span class=n>Char</span> <span class=n>right</span> <span class=o>=</span> <span class=sc>&#39;]&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>String</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=n>var</span> <span class=n>rd</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>random_device</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>var</span> <span class=n>str</span> <span class=o>=</span> <span class=n>String</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>left</span><span class=p>)</span> <span class=o>+</span> <span class=n>String</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>right</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>std</span><span class=o>::</span><span class=n>shuffle</span><span class=p>(</span><span class=n>str</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>str</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>std</span><span class=o>::</span><span class=n>mt19937</span><span class=p>(</span><span class=n>rd</span><span class=p>()));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>str</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>fn</span> <span class=nf>balanced</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>string_view</span> <span class=n>str</span><span class=p>,</span> <span class=n>Char</span> <span class=n>left</span> <span class=o>=</span> <span class=sc>&#39;[&#39;</span><span class=p>,</span> <span class=n>Char</span> <span class=n>right</span> <span class=o>=</span> <span class=sc>&#39;]&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Bool</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=n>var</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=n>let</span><span class=o>&amp;</span> <span class=nl>ch</span> <span class=p>:</span> <span class=n>str</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>ch</span> <span class=o>==</span> <span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=n>count</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>ch</span> <span class=o>==</span> <span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=p>(</span><span class=o>--</span><span class=n>count</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>				<span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>count</span> <span class=o>==</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>proc</span> <span class=nf>Main</span><span class=p>(</span><span class=na>[[maybe_unused]]</span> <span class=k>const</span> <span class=n>std</span><span class=o>::</span><span class=n>span</span><span class=o>&lt;</span><span class=k>const</span> <span class=n>std</span><span class=o>::</span><span class=n>string_view</span><span class=o>&gt;</span> <span class=n>args</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>I32</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=n>var</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>9</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>let</span> <span class=n>s</span> <span class=o>=</span> <span class=n>String</span><span class=p>(</span><span class=n>generate</span><span class=p>(</span><span class=n>i</span><span class=p>));</span>
</span></span><span class=line><span class=cl>		<span class=n>ignore</span> <span class=o>=</span> <span class=n>println</span><span class=p>(</span>
</span></span><span class=line><span class=cl>		    <span class=n>std</span><span class=o>::</span><span class=n>format</span><span class=p>(</span><span class=s>&#34; {}: {}&#34;</span><span class=p>,</span> <span class=n>balanced</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=o>?</span> <span class=s>&#34;ok&#34;</span> <span class=o>:</span> <span class=s>&#34;bad&#34;</span><span class=p>,</span> <span class=n>s</span><span class=p>));</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></table></div></div><h1 id=todo>TODO:</h1><ul><li><input disabled type=checkbox> Add algorithms<li><input disabled type=checkbox> Improve range algorithms</ul></section><footer><nav id=keywords aria-label=Tags><span>Tags:&nbsp;</span><ul class=delimiter role=presentation><li><a href=https://stau.space/tags/programming/>Programming</a><li><a href=https://stau.space/tags/computer-science/>Computer Science</a></ul></nav></footer></article><div id=exclude role=presentation><hr class=hide style="margin:1in 0"><div id=contentinfo class=pagewidth role=contentinfo data-pagefind-ignore=all><nav id=related aria-label="You might also like"><strong class=section-title>You might also like</strong><ol><li><a href=https://stau.space/posts/mandelbrot/>Fractal Renderer</a><li><a href=https://stau.space/posts/icpc-regionals/>We Lost the ICPC Regionals</a></ol></nav><div id=colophon style=display:none aria-live=polite><strong class=section-title>Colophon</strong><div><div id=qr role=img aria-label="QR code"></div><div class=verbose><div class=has-aria-label-top aria-label="C++ Prelude"><span>https://stau.space/posts/cpp-prelude/</span></div><div><span>This page is built on: </span><time datetime=2025-12-07T20:11:31-04:00>2025-12-07 20:11</time></div><div><span>This page is accessed on: </span><time id=time-stamp></time></div><div><span>Powered by </span><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> <a href=https://github.com/gohugoio/hugo/releases/tag/v0.152.2 aria-label="Hugo 0.152.2" target=_blank rel=noopener>v0.152.2</a> & <a href=https://github.com/foxihd/hugo-brewm target=_blank rel=noopener>hugo-brewm</a>.</div></div></div></div><div id=has-timeline><strong class=section-title>Redaction History</strong><ol aria-label="Redaction History"><li><time datetime=2024-01-08T18:04:59-04:00>January 8, 2024</time>
<span>(Published)</span><li><time datetime=2025-12-06T20:01:13-04:00>December 6, 2025</time>
<span>(Modified)</span></ol><p>Some information might changes over time, we keep redaction up to date.</div><div id=contribute tabindex=0><strong class=section-title>Enjoy this article?</strong><br><span>Awesome!
Did you know that 4 cups of coffee helped us write this article?
You can also support us by making the following contributions:</span><details id=has-contrib-menu class=presentation open><summary class=hide aria-label=Contribute><span>Contribute</span></summary><nav id=contrib-menu aria-label=Contribute><ul class="l1 has-childfree" role=presentation tabindex=-1><li role=presentation><a href=https://github.com/sponsors/sona-tau rel=external noopener noreferrer nofollow target=_blank><i class="icon sri">githubsponsors</i>
<span>Become Github Sponsors</span></a></ul></nav></details></div></div></div></main><footer id=body-footer class=pagewidth><div id=background-footer class="background hide" role=presentation aria-hidden=true></div><div id=focusMode></div><details id=has-a11y class="presentation js-details hide" name=on-deck aria-haspopup=true aria-labelledby=has-a11y-summary data-i18n-accessibility=Accessibility data-i18n-optimizesr="Screen Reader Optimization" data-i18n-optimizesrdesc="Optimize display and resources for screen reader users who navigate with a pointer device." data-i18n-colorsettings="Color Settings" data-i18n-darkmode="Dark Mode" data-i18n-light=Light data-i18n-dark=Dark data-i18n-contrast=Contrast data-i18n-lesscontrast=Low data-i18n-morecontrast=High data-i18n-defaultcontrast=Default data-i18n-colorpalette="Color Palette" data-i18n-defaultcolor=Default data-i18n-deuteranopia=Deuteranopia data-i18n-protanopia=Protanopia data-i18n-tritanopia=Tritanopia data-i18n-monochrome=Monochrome data-i18n-fontsize="Font Size" data-i18n-baselinestretch="Baseline Stretch" data-i18n-opendyslexic="Use OpenDyslexic Font" data-i18n-menucontrols="Accessibility Menu Controls" data-i18n-save=Save data-i18n-reset=Reset data-i18n-close=Close data-i18n-bionread="BionRead Mode" data-i18n-focusmode="Focus Mode" data-i18n-nolocalstorage="LocalStorage is not available in your browser. Settings won't be saved."></details><div id=useBionRead class=sri></div><nav aria-label=Bypass><a id=to-top class=srm href=#top title="To Content Top" accesskey=c aria-keyshortcuts=c aria-label="To Content Top"><span class="t srt">To Content Top</span>
<kbd class=key aria-hidden=true data-key=c></kbd></a></nav></footer><div id=bionReadSnapshot hidden></div><div id=background-body role=presentation aria-hidden=true></div></html>