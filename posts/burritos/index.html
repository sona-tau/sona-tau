<!DOCTYPE html>
<html lang="en-US" dir="ltr" id="html">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<meta property="og:title" content="Sona's blog!">
<meta property="og:description" content="Sona's website for publishing projects, blogs and more!">
<meta property="og:image" content="https://stau.space/banner.png">
<meta property="og:url" content="https://stau.space">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Sona's blog!">
<meta name="twitter:description" content="Sona's website for publishing projects, blogs and more!">
<meta name="twitter:image" content="https://stau.space/banner.png">
<meta name="twitter:site" content="@SunglYou">
<meta content="#43B581" data-react-helmet="true" name="theme-color" />
<title>A Monad Is Not A Burrito | My website!</title>


<style>
body {
    font-family: 'IBM Plex Mono';
}
 code {
     font-family: 'IBM Plex Mono'; 
 }
</style>

      <link rel="stylesheet" href="/css/main.min.683ef11cc0851ebfe7cb41364394ce52fc58fc5729aa1afbcba38919cd20ca54.css" integrity="sha256-aD7xHMCFHr/ny0E2Q5TOUvxY/Fcpqhr7y6OJGc0gylQ=" crossorigin="anonymous">
        <link rel="stylesheet" href="/css/syntax.min.4ac5bc17a9e52026ea6229b1dc45750650edab09b6debf0861e4f4180f95500f.css" />


      <script src="/js/main.fb6f33b6c27ddc1f3426f171446c7a52eff6151b8f221a0dcb9abd3345ebcc14.js" integrity="sha256-&#43;28ztsJ93B80JvFxRGx6Uu/2FRuPIhoNy5q9M0XrzBQ=" crossorigin="anonymous"></script>


</head>
<body>
<table class="header">
  <tr>
    <td colspan="2" rowspan="2" class="width-auto">
        <h1 class="title">A Monad Is Not A Burrito</h1>
        <span class="subtitle">Okay, it kind of is but that&#39;s like calling an airplane a car.</span>
    </td>
    <th>Version</th>
    <td class="width-min" style="color: var(--green);">1.0.1</td>
  </tr>
  <tr>
    <th>Updated</th>
    <td class="width-min"><time style="white-space: pre;">2024-12-21</time></td>
  </tr>
  <tr>
    <th class="width-min">Author</th><td class="width-auto">
        <a href="mailto:sona@stau.space">
            <i>sona</i>
        </a>
    </td>
    <th class="width-min">License</th>
    <td style="color: var(--red);">MIT</td>
  </tr>
</table>
<label class="debug-toggle-label">
    <input type="checkbox" class="debug-toggle" />
    Debug mode
</label>
<label class="light-mode-toggle-label" id="light-mode-toggle-label">
    <input type="checkbox" class="light-mode-toggle" />
    Light mode
</label>

  <main>
    


  <p>Repeat after me:</p>
<blockquote>
<p>A monad is <em>NOT</em> a burrito.</p>
</blockquote>
<blockquote>
<p>A monad is <em>NOT</em> a taco.</p>
</blockquote>
<blockquote>
<p>A monad is <em>NOT</em> a wrapper.</p>
</blockquote>
<h1 id="achtung">Achtung!</h1>
<p>This post will talk about Category Theory.
As complex and confusing as Category Theory is, I don&rsquo;t think most of the things
mentioned here about Category Theory are that hard to understand.
In any case I would like to remove some of the gate keeping in the part of
Category Theory that intersects with the field of Computer Science.
Although some of these concepts are not entirely necessary for industry work I
do find understanding some of this can be a great help in tackling and thinking
about problems differently.</p>
<h1 id="introduction">Introduction</h1>
<p>Before reading I do always like specifying what exactly you&rsquo;re about to get
yourself into.
Here are the sections</p>
<ol>
<li>A functor is a burrito</li>
<li>A monad is a functor</li>
<li>What is a monad?</li>
<li>Why do I care?</li>
<li>Why should you care?</li>
</ol>
<p>As you might have noticed these sections are also kind of a TLDR.
Additionally, since we will talk about Category Theory, a category is just a
collection of <em>objects</em> with <em>morphisms</em> between them.
Graphically, we can draw this as arrows between dots.
For us, computer scientists, the &ldquo;objects&rdquo; will always be the types in our
programming language of our choice, and the &ldquo;morphisms&rdquo; are just functions
between those types.
We don&rsquo;t really care about other categories unless you go very deep into
Category Theory, which we will not do.
An example of this would be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Python</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">is_even</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">False</span>
</span></span></code></pre></div><p>In this case, we have a function that takes an <code>int</code> and returns a
<code>bool</code>.
In our category we will see this as an arrow being drawn from the dot that says
<code>int</code> to the dot that says <code>bool</code> and that arrow&rsquo;s name will be <code>is_even</code>.</p>
<p><img src="./intro1.png" alt="Our new category"></p>
<p>Another example could be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// C
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">only_forty_two</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">42</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>In which case our category would look like:</p>
<p><img src="./intro2.png" alt="Only forty two"></p>
<h1 id="a-functor-is-a-burrito">A functor is a burrito</h1>
<p>Don&rsquo;t worry I will explain what a functor is in a moment.
I want you to keep in the back of your mind the idea of a burrito: a tortilla
filled with deliciousness inside.</p>
<p>In Category Theory, we define a &ldquo;functor&rdquo; as a mapping between categories.
But remember, since we&rsquo;re computer scientists, we only care about the category
of types and functions.
That means a functor for us would go from the category of functions and types
back towards the category of functions and types.
It would look exactly like the second example in the introduction, where
<code>only_forty_two</code> is our functor, and <code>int</code> is the category of types and
functions.</p>
<blockquote>
<p>But what does it mean to &ldquo;go from the category of types back to the category
of types&rdquo;??</p>
</blockquote>
<p>Let&rsquo;s just assume we already have a functor that does this and let&rsquo;s call it
<code>F</code>.
How does <code>F</code> look like and what does it do?
Well this functor <code>F</code>, in order to actually be a functor, needs to take
objects, types in our case, and map them to other objects, also types in this
case.
Additionally, it needs to take a function between those types and map it to
another function, but we will see this later.
Let&rsquo;s focus on the first part, mapping types to other types.
Where have we seen this before? &hellip;
A function that takes in a type as a parameter and outputs a type.
This seems very similar to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// C++
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Python</span>
</span></span><span class="line"><span class="cl"><span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="c1">// Rust
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Vec</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w">
</span></span></span></code></pre></div><p>In this case, <code>std::vector</code>, <code>list</code> and <code>Vec</code> take in a type <code>T</code> and output a
new type, <code>std::vector&lt;T&gt;</code>, <code>list[T]</code> and <code>Vec[T]</code> respectively.
This means that a functor <strong>must</strong> be a wrapper around a type&hellip;
A <strong>burrito</strong> if you will.
So every time you think about wrapping some type, remember, this is a functor.
Some extra notation, that will be useful in a moment, is to call a type <code>a</code> that
gets wrapped with our example functor <code>F</code> as <code>F a</code>.</p>
<p>Secondly, our functor <code>F</code> has to take a function <code>func</code> between two types <code>a</code>,
<code>b</code> and map it to a function called <code>F func</code> that goes between <code>F a</code> and <code>F b</code>.
Since we are defining a new &ldquo;mapping thingamabob&rdquo; that has to happen, this means
we need to define a new function.
Let&rsquo;s call that function <code>fmap</code> for no particular reason!
Our setup will now look like the following:</p>
<ul>
<li>a function: <code>fmap</code> that takes a <code>(a -&gt; b, F a)</code> and produces an <code>F b</code></li>
<li>a function: <code>func</code> that takes an <code>a</code> and produces a <code>b</code>.</li>
<li>a type: <code>F a</code>.</li>
</ul>
<p>Our setup looks like this:
<img src="./sect2.1.png" alt="Setup">
The idea behind <code>fmap</code> is that it puts the input side of <code>func</code> inside the <code>F</code>
box that has an <code>a</code> in it, <code>func</code> will transform that <code>a</code> into a <code>b</code> inside that
<code>F</code> box, and that is what we want <code>fmap</code> to do.
Kind of like this:
<img src="./sect2.2.png" alt="fmap"></p>
<p>Functors are very common in category theory.
They might have a scary name but they are actually very simple building blocks
used for other more complex category theory things.
For us computer scientists, they are just burritos!</p>
<h1 id="a-monad-is-a-functor">A monad is a functor</h1>
<p>For this we will have to tackle two concepts:</p>
<ul>
<li>endofunctor</li>
<li>monoid</li>
</ul>
<p>Both are very simple, don&rsquo;t worry.
An endofunctor is a functor that goes from the same category to itself.
For us computer scientists, all our functors are endofunctors.
It would be impossible to create a functor that is not an endofunctor in our
situation.
Additionally, a monoid is a category that has 1 object.</p>
<p>I would like to spend a moment to develop some intuition on monoids.
Since a monoid is a category that has only 1 object, all of the morphisms come
and go from the same, singular, object.
In our category of types and functions we can create a monoid.
The second example of the introduction is a monoid!
Additionally, I want you to think what would happen if we kept adding functions
to that monoid.
We would have a single type with a huge set of functions we can compose!
The intuition in this case is: a monoid is a way to think about composing
functions.</p>
<h1 id="what-is-a-monad">What is a Monad?</h1>
<p>Let&rsquo;s see what Wikipedia defines a &ldquo;monad&rdquo; as:</p>
<blockquote>
<p>In concise terms, a monad is a monoid in the category of endofunctors of some
fixed category.</p>
</blockquote>
<p>No need to take this definition apart piece by piece, it is not necessary.
The idea behind the monad is that we have a way to construct a special &ldquo;monoid&rdquo;.
(Remember what I said about composition and monoids.)
The single object in this category will be our functor <code>F</code>, which just so
happens to be an endofunctor.
We have a special morphism in this monoid that will ensure that we can compose
types produced by this functor.
We will call this function <code>&gt;&gt;=</code> or <code>bind</code> for no particular reason!
This function will take some type <code>F a</code> and a function that produces another
type <code>a -&gt; F b</code>, and will produce a type <code>F b</code>.</p>
<p>In this case, a monad&rsquo;s special ability is just to make sure you can compose
different functions with this functor.</p>
<p>Let&rsquo;s do an example.
We need a wrapper, let&rsquo;s use <code>Option</code> from Rust as our functor!
We then have:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">fn</span> <span class="nf">bind</span><span class="o">&lt;</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="o">&gt;</span><span class="p">(</span><span class="n">opt</span>: <span class="nb">Option</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">func</span>: <span class="nc">fn</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Option</span><span class="o">&lt;</span><span class="n">B</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Option</span><span class="o">&lt;</span><span class="n">B</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">match</span><span class="w"> </span><span class="n">opt</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nb">Some</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nb">None</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">None</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>This makes more sense once we start using <code>bind</code> to compose lots of these
<code>func</code>&rsquo;s together!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="kd">let</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bind</span><span class="p">(</span><span class="n">bind</span><span class="p">(</span><span class="n">bind</span><span class="p">(</span><span class="n">bind</span><span class="p">(</span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">to_int</span><span class="p">),</span><span class="w"> </span><span class="n">to_char</span><span class="p">),</span><span class="w"> </span><span class="n">to_string</span><span class="p">),</span><span class="w"> </span><span class="n">to_float</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>This looks prettier in Haskell:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-hs" data-lang="hs"><span class="line"><span class="cl"><span class="kr">let</span> <span class="kr">_</span> <span class="ow">=</span> <span class="n">option</span> <span class="o">&gt;&gt;=</span> <span class="n">to_int</span> <span class="o">&gt;&gt;=</span> <span class="n">to_char</span> <span class="o">&gt;&gt;=</span> <span class="n">to_string</span> <span class="o">&gt;&gt;=</span> <span class="n">to_float</span>
</span></span></code></pre></div><h1 id="why-do-i-care">Why do I care?</h1>
<p>I see people say:</p>
<blockquote>
<p>but a monad is a burrito</p>
</blockquote>
<p>way too much online&hellip;
I think that there is a far greater intuition that can be achieved behind
thinking about monads as just composition, instead of as a &ldquo;burrito&rdquo;.
Additionally, I think it would be interesting to see people use &ldquo;functor&rdquo; as
common terminology when they&rsquo;re just referring to a type constructor/wrapper or
whatever you want to call that.</p>
<h1 id="why-should-you-care">Why should you care?</h1>
<p>idk. but I hope this was cool to read about.
Anyways, here&rsquo;s a JSON parser using lots of these concepts in just 100 lines of
code:


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube-nocookie.com/embed/N9RUqGYuGfw?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>
</p>
  


  </main>
  <footer>
    <div id="page-size" style="position:fixed;left:10px;bottom:5px;background:transparent;"></div>
<script>
var req = new XMLHttpRequest();
req.open('GET', document.location, true);
req.send(null);
req.onload = function() {
        var kilobytes = req.getResponseHeader("Content-Length") / 1024.0;
        document.getElementById("page-size")
            .innerHTML = kilobytes.toFixed(2) + " kb";
    };
</script>
<p>Copyright 2025. All rights reserved.</p>

  </footer>
  <div class="debug-grid"></div>
  <script src="/js/main.js"></script>
</body>
</html>
