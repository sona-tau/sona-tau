<!doctype html><html lang=en-US dir=ltr id=html><head><meta charset=utf-8><meta name=viewport content="width=device-width"><meta property="og:title" content="Sona's website!"><meta property="og:description" content="Sona's website for publishing projects, blogs and more!"><meta property="og:image" content="https://stau.space/banner.png"><meta property="og:url" content="https://stau.space"><meta property="og:type" content="website"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Sona's website!"><meta name=twitter:description content="Sona's website for publishing projects, blogs and more!"><meta name=twitter:image content="https://stau.space/banner.png"><meta name=twitter:site content="@SunglYou"><meta content="#43B581" data-react-helmet=true name=theme-color><link rel=icon type=image/svg+xml href=/favicon.svg><link rel="shortcut icon" href=/favicon.ico><link rel=icon type=image/png href=/favicon-96x96.png sizes=96x96><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="sona"><link rel=manifest href=/site.webmanifest><title>A Monad Is Not A Burrito | My website!</title>
<link rel=stylesheet href=/css/main.min.68e80e38705d657e07edd114312c67d599b03ee0461d443ebaf91953b3e6a8af.css integrity="sha256-aOgOOHBdZX4H7dEUMSxn1ZmwPuBGHUQ+uvkZU7PmqK8=" crossorigin=anonymous><link rel=stylesheet href=/css/syntax.min.1a2121ca5da618cf1c3f9fd4fedab140ef1e066c21444768e5b2965bc9a98f15.css><script src=/js/main.fb6f33b6c27ddc1f3426f171446c7a52eff6151b8f221a0dcb9abd3345ebcc14.js integrity="sha256-+28ztsJ93B80JvFxRGx6Uu/2FRuPIhoNy5q9M0XrzBQ=" crossorigin=anonymous></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["\\[","\\]"],["$$","$$"]],inlineMath:[["\\(","\\)"]]},loader:{load:["ui/safe"]}}</script></head><body><header><a href=/><img class=logo src=/images/favicon_hu11784398669988935873.png width=512 height=512 alt></a><nav><a class=navItem href=/posts/>Posts</a>
<a class=navItem href=/tags/>Tags</a>
<a class=navItem href=/about/>About</a></nav><table class=header><tr><td style=width:100%><h1 class=title>A Monad Is Not A Burrito</h1><span class=subtitle>Okay, it kind of is but that's like calling an airplane a car.</span></table></header><main><p>Repeat after me:<blockquote><p>A monad is <em>NOT</em> a burrito.</blockquote><blockquote><p>A monad is <em>NOT</em> a taco.</blockquote><blockquote><p>A monad is <em>NOT</em> a wrapper.</blockquote><h1 id=achtung>Achtung!</h1><p>This post will talk about Category Theory.
As complex and confusing as Category Theory is, I don&rsquo;t think most of the things
mentioned here about Category Theory are that hard to understand.
In any case I would like to remove some of the gate keeping in the part of
Category Theory that intersects with the field of Computer Science.
Although some of these concepts are not entirely necessary for industry work I
do find understanding some of this can be a great help in tackling and thinking
about problems differently.<h1 id=introduction>Introduction</h1><p>Before reading I do always like specifying what exactly you&rsquo;re about to get
yourself into.
Here are the sections<ol><li>A functor is a burrito<li>A monad is a functor<li>What is a monad?<li>Why do I care?<li>Why should you care?</ol><p>As you might have noticed these sections are also kind of a TLDR.
Additionally, since we will talk about Category Theory, a category is just a
collection of <em>objects</em> with <em>morphisms</em> between them.
Graphically, we can draw this as arrows between dots.
For us, computer scientists, the &ldquo;objects&rdquo; will always be the types in our
programming language of our choice, and the &ldquo;morphisms&rdquo; are just functions
between those types.
We don&rsquo;t really care about other categories unless you go very deep into
Category Theory, which we will not do.
An example of this would be:<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>is_even</span><span class=p>(</span><span class=n>x</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>False</span>
</span></span></code></pre></table></div></div><p>In this case, we have a function that takes an <code>int</code> and returns a
<code>bool</code>.
In our category we will see this as an arrow being drawn from the dot that says
<code>int</code> to the dot that says <code>bool</code> and that arrow&rsquo;s name will be <code>is_even</code>.<p><img src=./intro1.png alt="Our new category"><p>Another example could be:<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=c1>// C
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=nf>only_forty_two</span><span class=p>(</span><span class=kt>int</span> <span class=n>x</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>42</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></table></div></div><p>In which case our category would look like:<p><img src=./intro2.png alt="Only forty two"><h1 id=a-functor-is-a-burrito>A functor is a burrito</h1><p>Don&rsquo;t worry I will explain what a functor is in a moment.
I want you to keep in the back of your mind the idea of a burrito: a tortilla
filled with deliciousness inside.<p>In Category Theory, we define a &ldquo;functor&rdquo; as a mapping between categories.
But remember, since we&rsquo;re computer scientists, we only care about the category
of types and functions.
That means a functor for us would go from the category of functions and types
back towards the category of functions and types.
It would look exactly like the second example in the introduction, where
<code>only_forty_two</code> is our functor, and <code>int</code> is the category of types and
functions.<blockquote><p>But what does it mean to &ldquo;go from the category of types back to the category
of types&rdquo;??</blockquote><p>Let&rsquo;s just assume we already have a functor that does this and let&rsquo;s call it
<code>F</code>.
How does <code>F</code> look like and what does it do?
Well this functor <code>F</code>, in order to actually be a functor, needs to take
objects, types in our case, and map them to other objects, also types in this
case.
Additionally, it needs to take a function between those types and map it to
another function, but we will see this later.
Let&rsquo;s focus on the first part, mapping types to other types.
Where have we seen this before? &mldr;
A function that takes in a type as a parameter and outputs a type.
This seems very similar to:<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=c1>// C++
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span>
</span></span></code></pre></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python</span>
</span></span><span class=line><span class=cl><span class=nb>list</span><span class=p>[</span><span class=n>T</span><span class=p>]</span>
</span></span></code></pre></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=c1>// Rust
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Vec</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></table></div></div><p>In this case, <code>std::vector</code>, <code>list</code> and <code>Vec</code> take in a type <code>T</code> and output a
new type, <code>std::vector&lt;T></code>, <code>list[T]</code> and <code>Vec[T]</code> respectively.
This means that a functor <strong>must</strong> be a wrapper around a type&mldr;
A <strong>burrito</strong> if you will.
So every time you think about wrapping some type, remember, this is a functor.
Some extra notation, that will be useful in a moment, is to call a type <code>a</code> that
gets wrapped with our example functor <code>F</code> as <code>F a</code>.<p>Secondly, our functor <code>F</code> has to take a function <code>func</code> between two types <code>a</code>,
<code>b</code> and map it to a function called <code>F func</code> that goes between <code>F a</code> and <code>F b</code>.
Since we are defining a new &ldquo;mapping thingamabob&rdquo; that has to happen, this means
we need to define a new function.
Let&rsquo;s call that function <code>fmap</code> for no particular reason!
Our setup will now look like the following:<ul><li>a function: <code>fmap</code> that takes a <code>(a -> b, F a)</code> and produces an <code>F b</code><li>a function: <code>func</code> that takes an <code>a</code> and produces a <code>b</code>.<li>a type: <code>F a</code>.</ul><p>Our setup looks like this:
<img src=./sect2.1.png alt=Setup>
The idea behind <code>fmap</code> is that it puts the input side of <code>func</code> inside the <code>F</code>
box that has an <code>a</code> in it, <code>func</code> will transform that <code>a</code> into a <code>b</code> inside that
<code>F</code> box, and that is what we want <code>fmap</code> to do.
Kind of like this:
<img src=./sect2.2.png alt=fmap><p>Functors are very common in category theory.
They might have a scary name but they are actually very simple building blocks
used for other more complex category theory things.
For us computer scientists, they are just burritos!<h1 id=a-monad-is-a-functor>A monad is a functor</h1><p>For this we will have to tackle two concepts:<ul><li>endofunctor<li>monoid</ul><p>Both are very simple, don&rsquo;t worry.
An endofunctor is a functor that goes from the same category to itself.
For us computer scientists, all our functors are endofunctors.
It would be impossible to create a functor that is not an endofunctor in our
situation.
Additionally, a monoid is a category that has 1 object.<p>I would like to spend a moment to develop some intuition on monoids.
Since a monoid is a category that has only 1 object, all of the morphisms come
and go from the same, singular, object.
In our category of types and functions we can create a monoid.
The second example of the introduction is a monoid!
Additionally, I want you to think what would happen if we kept adding functions
to that monoid.
We would have a single type with a huge set of functions we can compose!
The intuition in this case is: a monoid is a way to think about composing
functions.<h1 id=what-is-a-monad>What is a Monad?</h1><p>Let&rsquo;s see what Wikipedia defines a &ldquo;monad&rdquo; as:<blockquote><p>In concise terms, a monad is a monoid in the category of endofunctors of some
fixed category.</blockquote><p>No need to take this definition apart piece by piece, it is not necessary.
The idea behind the monad is that we have a way to construct a special &ldquo;monoid&rdquo;.
(Remember what I said about composition and monoids.)
The single object in this category will be our functor <code>F</code>, which just so
happens to be an endofunctor.
We have a special morphism in this monoid that will ensure that we can compose
types produced by this functor.
We will call this function <code>>>=</code> or <code>bind</code> for no particular reason!
This function will take some type <code>F a</code> and a function that produces another
type <code>a -> F b</code>, and will produce a type <code>F b</code>.<p>In this case, a monad&rsquo;s special ability is just to make sure you can compose
different functions with this functor.<p>Let&rsquo;s do an example.
We need a wrapper, let&rsquo;s use <code>Option</code> from Rust as our functor!
We then have:<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>bind</span><span class=o>&lt;</span><span class=n>A</span><span class=p>,</span><span class=w> </span><span class=n>B</span><span class=o>&gt;</span><span class=p>(</span><span class=n>opt</span>: <span class=nb>Option</span><span class=o>&lt;</span><span class=n>A</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=n>func</span>: <span class=nc>fn</span><span class=p>(</span><span class=n>A</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Option</span><span class=o>&lt;</span><span class=n>B</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>Option</span><span class=o>&lt;</span><span class=n>B</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>match</span><span class=w> </span><span class=n>opt</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nb>Some</span><span class=p>(</span><span class=n>a</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>func</span><span class=p>(</span><span class=n>a</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nb>None</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=nb>None</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></table></div></div><p>This makes more sense once we start using <code>bind</code> to compose lots of these
<code>func</code>&rsquo;s together!<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=kd>let</span><span class=w> </span><span class=n>_</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>bind</span><span class=p>(</span><span class=n>bind</span><span class=p>(</span><span class=n>bind</span><span class=p>(</span><span class=n>bind</span><span class=p>(</span><span class=n>option</span><span class=p>,</span><span class=w> </span><span class=n>to_int</span><span class=p>),</span><span class=w> </span><span class=n>to_char</span><span class=p>),</span><span class=w> </span><span class=n>to_string</span><span class=p>),</span><span class=w> </span><span class=n>to_float</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></table></div></div><p>This looks prettier in Haskell:<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre><td class=lntd><pre tabindex=0 class=chroma><code class=language-hs data-lang=hs><span class=line><span class=cl><span class=kr>let</span> <span class=kr>_</span> <span class=ow>=</span> <span class=n>option</span> <span class=o>&gt;&gt;=</span> <span class=n>to_int</span> <span class=o>&gt;&gt;=</span> <span class=n>to_char</span> <span class=o>&gt;&gt;=</span> <span class=n>to_string</span> <span class=o>&gt;&gt;=</span> <span class=n>to_float</span>
</span></span></code></pre></table></div></div><h1 id=why-do-i-care>Why do I care?</h1><p>I see people say:<blockquote><p>but a monad is a burrito</blockquote><p>way too much online&mldr;
I think that there is a far greater intuition that can be achieved behind
thinking about monads as just composition, instead of as a &ldquo;burrito&rdquo;.
Additionally, I think it would be interesting to see people use &ldquo;functor&rdquo; as
common terminology when they&rsquo;re just referring to a type constructor/wrapper or
whatever you want to call that.<h1 id=why-should-you-care>Why should you care?</h1><p>idk. but I hope this was cool to read about.
Anyways, here&rsquo;s a JSON parser using lots of these concepts in just 100 lines of
code:<div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube-nocookie.com/embed/N9RUqGYuGfw?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div></main><footer><div class=footerLeft><a class=navItem href=https://git.gay/sona/site/><svg width="20" height="20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 8l-4 4 4 4"/><path d="M17 8l4 4-4 4"/><path d="M14 4l-4 16"/></svg> Source Code</a>
<a class=navItem href=/index.xml><svg width="20" height="20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 19m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg> RSS</a>
<a class=navItem href=/contact/><svg width="20" height="20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 6v12a2 2 0 01-2 2H8a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2z"/><path d="M10 16h6"/><path d="M13 11m-2 0a2 2 0 104 0 2 2 0 10-4 0"/><path d="M4 8h3"/><path d="M4 12h3"/><path d="M4 16h3"/></svg> Contact</a>
<a class=navItem href=/todo/><svg width="20" height="20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 6a2 2 0 10-4 0 2 2 0 004 0z"/><path d="M7 18a2 2 0 10-4 0 2 2 0 004 0z"/><path d="M21 18a2 2 0 10-4 0 2 2 0 004 0z"/><path d="M7 18h10"/><path d="M18 16l-5-8"/><path d="M11 8l-5 8"/></svg> Webring</a></div><div class=footerRight>Copyright 2025. All rights reserved.<br>All articles are licensed under: <a href=https://creativecommons.org/licenses/by-nc/4.0/>CC&nbsp;BY-NC-SA&nbsp;4.0.</a><br>Last rev <time>2025-03-20</time> (<a href=https://git.gay/sona/site/commit/c27bdf4>c27bdf4</a>)<br>Author: <a href=mailto:sona@stau.space><i>sona</i></a><br><abbr title=Puertorican>ðŸ‡µðŸ‡·</abbr>
<abbr title=Pansexual><svg height="1em" viewBox="0 -5 36 36"><g transform="rotate(0)" clip-path="url(#stripesClip)"><rect x="0" y="5" width="36" height="8.767" fill="#ff218c"/><rect x="0" y="13.667" width="36" height="8.767" fill="#fed800"/><rect x="0" y="22.333" width="36" height="8.767" fill="#21b1ff"/></g><defs><clipPath id="stripesClip"><path id="stripes" fill="#eee" d="M36 27c0 2.209-1.791 4-4 4H4c-2.209.0-4-1.791-4-4V9c0-2.209 1.791-4 4-4h28c2.209.0 4 1.791 4 4v18z" transform="rotate(0)"/></clipPath></defs></svg></abbr>
<abbr title=Transexual><svg height="1em" viewBox="0 -5 36 36"><g transform="rotate(0)" clip-path="url(#stripesClip)"><rect x="0" y="5" width="36" height="5.3" fill="#5bcefa"/><rect x="0" y="10.2" width="36" height="5.3" fill="#f5a9b8"/><rect x="0" y="15.4" width="36" height="5.3" fill="#fff"/><rect x="0" y="20.6" width="36" height="5.3" fill="#f5a9b8"/><rect x="0" y="25.8" width="36" height="5.3" fill="#5bcefa"/></g><defs><clipPath id="stripesClip"><path id="stripes" fill="#eee" d="M36 27c0 2.209-1.791 4-4 4H4c-2.209.0-4-1.791-4-4V9c0-2.209 1.791-4 4-4h28c2.209.0 4 1.791 4 4v18z" transform="rotate(0)"/></clipPath></defs></svg></abbr></div></footer><div style="position:fixed;left:10px;bottom:5px;background:0 0"><label class=themeToggleLabel><button class=themeToggle><svg width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" class="icon icon-tabler icons-tabler-filled icon-tabler-moon"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 1.992a10 10 0 109.236 13.838c.341-.82-.476-1.644-1.298-1.31A6.5 6.5.0 0113.074 3.733l.077-.08c.551-.63.113-1.653-.758-1.653h-.266l-.068-.006-.06-.002z"/></svg></button></label></div></body></html>