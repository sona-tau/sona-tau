<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Category Theory on My website!</title><link>http://localhost:1313/tags/category-theory/</link><description>Recent Posts in Category Theory on My website!</description><generator>Hugo 0.152.2</generator><language>en</language><managingEditor>sona@stau.space (Sona Tau Estrada Rivera)</managingEditor><webMaster>sona@stau.space (Sona Tau Estrada Rivera)</webMaster><lastBuildDate>Fri, 12 Dec 2025 21:35:37 -0400</lastBuildDate><atom:link href="http://localhost:1313/tags/category-theory/index.xml" rel="self" type="application/rss+xml"/><item><title>The ETCS Manifesto</title><link>http://localhost:1313/posts/etcs/</link><pubDate>Sun, 07 Dec 2025 11:22:37 -0400</pubDate><author>sona@stau.space (Sona Tau Estrada Rivera)</author><dc:creator>Sona Tau Estrada Rivera</dc:creator><guid>http://localhost:1313/posts/etcs/</guid><description>My favorite axiomatization for the foundations of Mathematics.</description><content:encoded>&lt;h1 id="pre-prelude"&gt;Pre-prelude&lt;/h1&gt;
&lt;p&gt;I use syntax similar to inference rules so check that out here, if you haven&amp;rsquo;t heard about it before:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://wikipedia.org/wiki/Rule_of_inference" target="_blank" rel="external noopener noreferrer nofollow"&gt;Rule of Inference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I do this because statements look very simple and clean like this, not because it is simpler to read.&lt;/p&gt;
&lt;h1 id="prelude"&gt;Prelude&lt;/h1&gt;
&lt;p&gt;First, there are mathematical objects. The mathematical objects that the following axioms apply to are:&lt;/p&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 There are &lt;strong&gt;sets&lt;/strong&gt;.
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\frac{\qquad\qquad}{X}
$$

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 For each set $A$ and $B$, there are some things called functions that go from $A$ to $B$.
 &lt;blockquote&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Now, let&amp;rsquo;s define some notation. The notation for a function $f$ from $A$ to $B$ can be any of the following, they are all equivalent:
$$
f : A \to B \equiv A \overset{f}{\to} B.
$$
Additionally, in the case above, $A$ is called the &lt;strong&gt;domain&lt;/strong&gt; and $B$ is called the &lt;strong&gt;codomain&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;If we want to state two functions that go from A to B, we would write something like the following.&lt;/p&gt;
&lt;p&gt;$$
A \overset{f}{\to} B \land A \overset{g}{\to} B \equiv A \overset{f}{\underset{g}{\rightrightarrows}} B.
$$&lt;/p&gt;
&lt;p&gt;Additionally, we can also write the arrows pointing from right to left (while preserving the order of the domain and codomain).&lt;/p&gt;
&lt;p&gt;$$
A \overset{f}{\to} B \equiv B \overset{f}{\leftarrow} A.
$$&lt;/p&gt;
&lt;p&gt;When asserting that a function exists as a hypothesis, it is safe to assume that both the domain and codomain exist, without explicitly stating that they exist. So, in other words:&lt;/p&gt;
&lt;p&gt;$$
\frac{}{\quad A \overset{f}{\to} B \quad}
$$&lt;/p&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 Given two functions $f : A \to B$ and $g : B \to C$, there exists a function $g \circ f : A \to C$ called &lt;strong&gt;the composition of $f$ and $g$.&lt;/strong&gt;
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\frac{A \overset{f}{\to} B \overset{g}{\to} C}{A \overset{g \circ f}{\to} C}
$$&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s define some more notation. We don&amp;rsquo;t want to write the composition symbol every time we compose two functions. So, we will simply write both of them juxtaposed.&lt;/p&gt;
&lt;p&gt;$$
g \circ f \equiv g f.
$$&lt;/p&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 For each set $X$, a function $1_X : X \to X$ called &lt;strong&gt;the identity at $X$&lt;/strong&gt;.
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\frac{X}{\quad X \overset{1_X}{\to} X \quad}
$$&lt;/p&gt;
&lt;p&gt;One more piece of notation, the identity at $X$ will also be written as $X$. This is safe to do because for each object, one can, and will, find an identity that is unique.&lt;/p&gt;
&lt;p&gt;$$
1_X \equiv X.
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id="axioms"&gt;Axioms&lt;/h1&gt;
&lt;h2 id="first"&gt;First&lt;/h2&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 There shall be &lt;strong&gt;associativity&lt;/strong&gt;.
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\frac{W \overset{f}{\to} X \overset{g}{\to} Y \overset{h}{\to} Z}
{h \circ (g \circ f) = (h \circ g) \circ f}
$$&lt;/p&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 There shall be &lt;strong&gt;identities&lt;/strong&gt;.
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\frac{X \overset{f}{\to} Y \quad}{f \circ X = f \qquad Y \circ f = f}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="intermezzo-terminal-objects"&gt;Intermezzo: Terminal objects&lt;/h3&gt;
&lt;p&gt;Look at this predicate:
$$
P(T): \forall X (\exists! X \to T).
$$&lt;/p&gt;
&lt;p&gt;This predicate states that: given a $T$, for all $X$, there exists a unique function from $X$ to $T$. Any object $T$ that satisfies this predicate is called &lt;strong&gt;a terminal object&lt;/strong&gt;. All sets that are terminal are equivalent (more on what this means later), so it is safe to pick one of them and give it a name. Call that object &lt;strong&gt;$1$&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;As a diagram, this would look like this:&lt;/p&gt;

&lt;figure &gt;
 &lt;input id="fig-e9d11ea7e40daec627ca0fa595802e40-6" class="marginpar-ctrl" type="checkbox" aria-controls="the-fig-e9d11ea7e40daec627ca0fa595802e40-6" hidden&gt;
 &lt;label for="fig-e9d11ea7e40daec627ca0fa595802e40-6"&gt;&lt;/label&gt;
 &lt;span id="the-fig-e9d11ea7e40daec627ca0fa595802e40-6" class="marginpar abs"&gt;
 
 Terminal Object diagram
 &lt;a href="https://wikipedia.org/wiki/Initial_and_terminal_objects"&gt;learn more here&lt;/a&gt;
 &lt;/span&gt;
 
 &lt;img src="http://localhost:1313/images/terminal-diagram.webp"
 alt="An object T and a lot of other objects with arrows pointing at it"
 title="An object T and a lot of other objects with arrows pointing at it"aria-describedby="fig-e9d11ea7e40daec627ca0fa595802e40-6"
 loading="lazy"
 &gt;
 &lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id="second"&gt;Second&lt;/h2&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 There shall be &lt;strong&gt;a terminal object&lt;/strong&gt;.
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\frac{}{\quad 1 \quad}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="intermezzo-more-notation"&gt;Intermezzo: More notation&lt;/h3&gt;
&lt;p&gt;Some notation.&lt;/p&gt;
&lt;p&gt;Some more notation, we want to define set membership as a function from that terminal object to any set. In naive set theory, singleton sets pick an element of the set. So in this case, a function from the terminal object “picks” something in the set.&lt;/p&gt;
&lt;p&gt;$$
x \in X \equiv \mathbf{1} \overset{x}{\to} X.
$$&lt;/p&gt;
&lt;p&gt;Now, if we compose a function with a “picking” function, we can “pick” something in the codomain of the first function. This is exactly how evaluating a function at a value looks like. So, let&amp;rsquo;s define that as more notation.&lt;/p&gt;
&lt;p&gt;$$
\frac{X \overset{f}{\to} Y \qquad x \in X}
{f(x) \equiv f \circ x}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="third"&gt;Third&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;There shall be an empty set.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;$$
\frac{\qquad \qquad \qquad \qquad}
{\exists! X (\not{\exists} x \in X)}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="intermezzo-what-does-empty-mean"&gt;Intermezzo: What does “empty” mean?&lt;/h3&gt;
&lt;p&gt;You can think of this axiom as basically stating that the following is not only well-formed, but that it is also true.&lt;/p&gt;
&lt;p&gt;$$
\exists!X(\not\exists x \in X).
$$&lt;/p&gt;
&lt;p&gt;The above predicate states that: there is a unique set X that does not have any members. A set that does not have any members must be empty.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="fourth"&gt;Fourth&lt;/h2&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 There shall be equality of functions.
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\frac{X \overset{f}{\underset{g}{\rightrightarrows}} Y \qquad \forall x \in X (f(x) = g(x))}
{f = g}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="intermezzo-products"&gt;Intermezzo: Products&lt;/h3&gt;
&lt;p&gt;Say we have the sets $X$, $P$ and $Y$ with the functions $\pi_1 : P \to X$ and $\pi_2 : P \to Y$.&lt;/p&gt;
&lt;p&gt;We will say that a product of $X$ and $Y$ is $P$, if for all sets $I$ with functions $f_1 : I \to X$ and $f_2 : I \to Y$, then there exists a unique function $\langle f_1, f_2\rangle : I \to P$ such that $\pi_1 \circ \langle f_1, f_2\rangle = f_1$ and $\pi_2 \circ \langle f_1, f_2\rangle = f_2$.&lt;/p&gt;
&lt;p&gt;Using rules of inference, this looks like the following.&lt;/p&gt;
&lt;p&gt;$$
\frac{X \overset{\pi_1}{\leftarrow} P \overset{\pi_2}{\to} Y}
{X \overset{f_1}{\leftarrow} I \overset{f_2}{\to} Y \implies \exists! I \overset{\langle f_1, f_2 \rangle}{\longrightarrow} P} \
(\pi_1 \circ \langle f_1, f_2\rangle = f_1 \land \pi_2 \circ \langle f_1, f_2\rangle = f_2)
$$&lt;/p&gt;
&lt;p&gt;Using a diagram, this is a bit clearer. Whenever you have something like this:&lt;/p&gt;

&lt;figure &gt;
 &lt;input id="fig-e9d11ea7e40daec627ca0fa595802e40-9" class="marginpar-ctrl" type="checkbox" aria-controls="the-fig-e9d11ea7e40daec627ca0fa595802e40-9" hidden&gt;
 &lt;label for="fig-e9d11ea7e40daec627ca0fa595802e40-9"&gt;&lt;/label&gt;
 &lt;span id="the-fig-e9d11ea7e40daec627ca0fa595802e40-9" class="marginpar abs"&gt;
 
 Product Object diagram, first step
 &lt;a href="https://wikipedia.org/wiki/Product_%28category_theory%29"&gt;learn more here&lt;/a&gt;
 &lt;/span&gt;
 
 &lt;img src="http://localhost:1313/images/product-part1.webp"
 alt="Two objects X and Y with an object P in the middle and two projections pi_1 and pi_2"
 title="Two objects X and Y with an object P in the middle and two projections pi_1 and pi_2"aria-describedby="fig-e9d11ea7e40daec627ca0fa595802e40-9"
 loading="lazy"
 &gt;
 &lt;/figure&gt;
&lt;p&gt;If there exists an object I like this:&lt;/p&gt;

&lt;figure &gt;
 &lt;input id="fig-e9d11ea7e40daec627ca0fa595802e40-10" class="marginpar-ctrl" type="checkbox" aria-controls="the-fig-e9d11ea7e40daec627ca0fa595802e40-10" hidden&gt;
 &lt;label for="fig-e9d11ea7e40daec627ca0fa595802e40-10"&gt;&lt;/label&gt;
 &lt;span id="the-fig-e9d11ea7e40daec627ca0fa595802e40-10" class="marginpar abs"&gt;
 
 Product Object diagram, second step
 &lt;a href="https://wikipedia.org/wiki/Product_%28category_theory%29"&gt;learn more here&lt;/a&gt;
 &lt;/span&gt;
 
 &lt;img src="http://localhost:1313/images/product-part2.png"
 alt="Two objects X and Y with an object P in the middle and two projections pi_1 and pi_2. Now a fourth object I with two functions f_1 and f_2."
 title="Two objects X and Y with an object P in the middle and two projections pi_1 and pi_2. Now a fourth object I with two functions f_1 and f_2."aria-describedby="fig-e9d11ea7e40daec627ca0fa595802e40-10"
 loading="lazy"
 &gt;
 &lt;/figure&gt;
&lt;p&gt;You can find a function $\langle f_1, f_2\rangle$ such that this diagram commutes:&lt;/p&gt;

&lt;figure &gt;
 &lt;input id="fig-e9d11ea7e40daec627ca0fa595802e40-11" class="marginpar-ctrl" type="checkbox" aria-controls="the-fig-e9d11ea7e40daec627ca0fa595802e40-11" hidden&gt;
 &lt;label for="fig-e9d11ea7e40daec627ca0fa595802e40-11"&gt;&lt;/label&gt;
 &lt;span id="the-fig-e9d11ea7e40daec627ca0fa595802e40-11" class="marginpar abs"&gt;
 
 Product Object diagram, third and final step
 &lt;a href="https://wikipedia.org/wiki/Product_%28category_theory%29"&gt;learn more here&lt;/a&gt;
 &lt;/span&gt;
 
 &lt;img src="http://localhost:1313/images/product-part3.png"
 alt="Two objects X and Y with an object P in the middle and two projections pi_1 and pi_2. Now a fourth object I with two functions f_1 and f_2. Then, a function (f_1, f_2)"
 title="Two objects X and Y with an object P in the middle and two projections pi_1 and pi_2. Now a fourth object I with two functions f_1 and f_2. Then, a function (f_1, f_2)"aria-describedby="fig-e9d11ea7e40daec627ca0fa595802e40-11"
 loading="lazy"
 &gt;
 &lt;/figure&gt;
&lt;p&gt;Then, whenever the above is true for sets $P$, $X$ and $Y$, we will call this the product, and we have the following notation for this:&lt;/p&gt;
&lt;p&gt;$$
X \times Y \equiv P.
$$&lt;/p&gt;
&lt;p&gt;In this sense, the product of two sets is the Cartesian product as we would normally know it, but we also have two special functions. Namely, pi_1 and pi_2. The axiom does not state it but for all Cartesian products, these two functions are defined.&lt;/p&gt;
&lt;p&gt;Also, there is some more notation.&lt;/p&gt;
&lt;p&gt;$$
(X, Y) \equiv X \times Y.
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="fifth"&gt;Fifth&lt;/h2&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 There shall be &lt;strong&gt;Cartesian products&lt;/strong&gt;.
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\frac{X \quad Y}
{X \times Y}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="intermezzo-functions"&gt;Intermezzo: Functions!&lt;/h3&gt;
&lt;p&gt;Now we went to talk about the star of the show: functions. We would like to define a set of functions. For this, if we want to claim that a set $F$, is the set of functions from $X$ to $Y$, we will need one extra function $\epsilon : F \times X \to Y$. This function will take an element of $F$ (a function from $X$ to $Y$) and an element of $X$, and produce an element of $Y$. In other words:&lt;/p&gt;
&lt;p&gt;$$
\frac{f : X \to Y \quad x \in X}
{\epsilon(f, x) \in Y}
$$
It would be great if we had this function epsilon at our disposal (you will soon see why). So, how do we create such a function? If we find a way to “implement” it, we&amp;rsquo;re golden.&lt;/p&gt;
&lt;p&gt;A way to implement this function is as follows:&lt;/p&gt;
&lt;p&gt;$$
(f : X \to Y, x \in X) \mapsto f(x).
$$&lt;/p&gt;
&lt;p&gt;In other words $\epsilon$ is a function that takes a function and an argument and applies that function to that argument. Now, we will use this to claim that $F$ really is the set we are looking for. If there is any other set $I$ with $\epsilon&amp;rsquo; : I \times X \to Y$, then there must exist a unique function $q : I \to X$ such that $t \in I$ and $x \in X$ implies that $\epsilon&amp;rsquo;(t,x) = \epsilon(q(t), x)$. Using rules of inference, this looks like the following.&lt;/p&gt;
&lt;p&gt;$$
\frac{F \quad F \times X \overset{\epsilon}{\to} Y}
{I \times X \overset{\epsilon&amp;rsquo;}{\to} Y} \
\rule[3pt]{15em}{0.05pt} \
\frac{\exists! q : I \to F \quad t \in I \land x \in X}
{\epsilon&amp;rsquo;(t, x) = \epsilon(q(t), x)}
$$&lt;/p&gt;
&lt;p&gt;Using a diagram, this looks like the following:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Given a sets, $F$, $X$, $Y$ and $\epsilon : F \times X \to Y$, we get the following diagram:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;figure &gt;
 &lt;input id="fig-e9d11ea7e40daec627ca0fa595802e40-13" class="marginpar-ctrl" type="checkbox" aria-controls="the-fig-e9d11ea7e40daec627ca0fa595802e40-13" hidden&gt;
 &lt;label for="fig-e9d11ea7e40daec627ca0fa595802e40-13"&gt;&lt;/label&gt;
 &lt;span id="the-fig-e9d11ea7e40daec627ca0fa595802e40-13" class="marginpar abs"&gt;
 
 Function Object diagram, first step
 &lt;a href="https://wikipedia.org/wiki/Function_%28mathematics%29"&gt;learn more here&lt;/a&gt;
 &lt;/span&gt;
 
 &lt;img src="http://localhost:1313/images/functions-part1.webp"
 alt="Objects F, (F, X), and Y with a function epsilon"
 title="Objects F, (F, X), and Y with a function epsilon"aria-describedby="fig-e9d11ea7e40daec627ca0fa595802e40-13"
 loading="lazy"
 &gt;
 &lt;/figure&gt;
&lt;p&gt;If there exists a set $I$ and a function $\epsilon&amp;rsquo; : I \times X \to Y$ like this:&lt;/p&gt;

&lt;figure &gt;
 &lt;input id="fig-e9d11ea7e40daec627ca0fa595802e40-14" class="marginpar-ctrl" type="checkbox" aria-controls="the-fig-e9d11ea7e40daec627ca0fa595802e40-14" hidden&gt;
 &lt;label for="fig-e9d11ea7e40daec627ca0fa595802e40-14"&gt;&lt;/label&gt;
 &lt;span id="the-fig-e9d11ea7e40daec627ca0fa595802e40-14" class="marginpar abs"&gt;
 
 Function Object diagram, second step
 &lt;a href="https://wikipedia.org/wiki/Function_%28mathematics%29"&gt;learn more here&lt;/a&gt;
 &lt;/span&gt;
 
 &lt;img src="http://localhost:1313/images/functions-part2.webp"
 alt="Objects F, (F, X), Y, I, and (I, X) with functions epsilon and epsilon&amp;#39;"
 title="Objects F, (F, X), Y, I, and (I, X) with functions epsilon and epsilon&amp;#39;"aria-describedby="fig-e9d11ea7e40daec627ca0fa595802e40-14"
 loading="lazy"
 &gt;
 &lt;/figure&gt;
&lt;p&gt;There must exist a unique function $q : I \to F$ such that the following diagram commutes:&lt;/p&gt;

&lt;figure &gt;
 &lt;input id="fig-e9d11ea7e40daec627ca0fa595802e40-15" class="marginpar-ctrl" type="checkbox" aria-controls="the-fig-e9d11ea7e40daec627ca0fa595802e40-15" hidden&gt;
 &lt;label for="fig-e9d11ea7e40daec627ca0fa595802e40-15"&gt;&lt;/label&gt;
 &lt;span id="the-fig-e9d11ea7e40daec627ca0fa595802e40-15" class="marginpar abs"&gt;
 
 Function Object diagram, third and final step
 &lt;a href="https://wikipedia.org/wiki/Function_%28mathematics%29"&gt;learn more here&lt;/a&gt;
 &lt;/span&gt;
 
 &lt;img src="http://localhost:1313/images/functions-part3.webp"
 alt="Objects F, (F, X), Y, I, and (I, X) with functions epsilon, epsilon&amp;#39;, q, and (q, x)"
 title="Objects F, (F, X), Y, I, and (I, X) with functions epsilon, epsilon&amp;#39;, q, and (q, x)"aria-describedby="fig-e9d11ea7e40daec627ca0fa595802e40-15"
 loading="lazy"
 &gt;
 &lt;/figure&gt;
&lt;p&gt;Now, for this set $F$, we will have the following syntactic sugar.&lt;/p&gt;
&lt;p&gt;$$
Y^X \equiv F.
$$&lt;/p&gt;
&lt;p&gt;As it turns out, $|Y^X| = |Y|^{|X|}$. The amount of functions from $X$ to $Y$ is equal to $|Y|^{|X|}$, interesting!&lt;/p&gt;
&lt;h2 id="sixth"&gt;Sixth&lt;/h2&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 There shall be &lt;strong&gt;function sets&lt;/strong&gt;.
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\frac{X \quad Y}
{Y^X}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="intermezzo"&gt;Intermezzo&lt;/h3&gt;
&lt;p&gt;Not all functions have inverses. For example, the inverse of an element in the codomain of a function that isn&amp;rsquo;t surjective will not exist, and even if the element is in the image, if the function is not injective, the inverse could be any of a set of elements in its domain. For this, we must define the inverse of a function as a function that outputs a subset of the original function&amp;rsquo;s domain.&lt;/p&gt;
&lt;p&gt;For this, let $f : X \to Y, y \in Y$ and $j : A \to X$. The inverse of $f$ under $y$ is the set $A$ if for any $I$ and $q : I \to X$ the following is true: If $t \in I$ and $f(q(t)) = y$, then $\exists! q&amp;rsquo; : I \to A$ such that $q = j \circ q&amp;rsquo;$.&lt;/p&gt;
&lt;p&gt;In other words, the following.&lt;/p&gt;
&lt;p&gt;$$
A \overset{j}{\to} X \overset{f}{\to} Y \quad y \in Y \
\rule[3pt]{15em}{0.05pt} \
I \overset{q}{\to} X \
\rule[3pt]{15em}{0.05pt} \
t \in I \
\rule[3pt]{15em}{0.05pt} \
f(q(t)) = y \
\rule[3pt]{15em}{0.05pt} \
\exists! I \overset{q&amp;rsquo;}{\to} A
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{align*}
&amp;amp;InverseImage(\langle f : X \to Y, y \in Y, j : A \to X\rangle): \
&amp;amp;\qquad \forall I \land q : I \to X \
&amp;amp;\qquad \qquad (\forall t \in I (f(q(t)) = y) \implies \exists! \bar{q} : I \to A (q = j \circ \bar{q})).
\end{align*}
$$&lt;/p&gt;
&lt;p&gt;Now define the syntactic sugar:&lt;/p&gt;
&lt;p&gt;$$
\begin{align*}
&amp;amp;A \land X \land Y, \
&amp;amp;y \in Y, \
&amp;amp;f : X \to Y, \
&amp;amp;j : A \to X, \
&amp;amp;\forall a \in A (f(j(a)) = y), \
&amp;amp;InverseImage(\langle f, y, j\rangle). \
\vdash; &amp;amp;f^{-1}(y) := A.
\end{align*}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="seventh"&gt;Seventh&lt;/h2&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 There shall be &lt;strong&gt;inverse images&lt;/strong&gt;.
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\begin{align*}
&amp;amp;X \land Y, \
&amp;amp;y \in Y, \
&amp;amp;f : X \to Y. \
\vdash; &amp;amp;\exists f^{-1} \circ y (\top).
\end{align*}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="intermezzo-1"&gt;Intermezzo&lt;/h3&gt;
&lt;p&gt;Fix a set called $2$:&lt;/p&gt;
&lt;p&gt;$$
\vdash; \mathbf{2}.
$$&lt;/p&gt;
&lt;p&gt;These axioms imply that this set must have these two elements&lt;/p&gt;
&lt;p&gt;$$
\top \in \mathbf{2} \land \bot \in \mathbf{2}.
$$&lt;/p&gt;
&lt;p&gt;Define the syntactic sugar:&lt;/p&gt;
&lt;p&gt;$$
\begin{align*}
&amp;amp;A \land X, \
&amp;amp;j : A \to X, \
&amp;amp;\forall a \in A \land a&amp;rsquo; \in A (j(a) = j(a&amp;rsquo;) \implies a = a&amp;rsquo;). \
\vdash; &amp;amp;j : A \hookrightarrow X := j.
\end{align*}
$$&lt;/p&gt;
&lt;p&gt;Define the predicate:&lt;/p&gt;
&lt;p&gt;$$
SubSet(\langle j : A \hookrightarrow X\rangle): \exists!\chi : X \to \mathbf{2} (\chi^{-1}(\top) = j).
$$&lt;/p&gt;
&lt;p&gt;Then, define the syntactic sugar:&lt;/p&gt;
&lt;p&gt;$$
\begin{align*}
&amp;amp;A \land X, \
&amp;amp;\exists j : A \hookrightarrow X. \
\vdash; &amp;amp;A \subseteq X := SubSet(\langle j \rangle).
\end{align*}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="eighth"&gt;Eighth&lt;/h2&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 There shall be a subset classifier.
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\begin{align*}
\vdash; &amp;amp;\subseteq.
\end{align*}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="intermezzo-2"&gt;Intermezzo&lt;/h3&gt;
&lt;p&gt;Define the predicate:&lt;/p&gt;
&lt;p&gt;$$
\begin{align*}
&amp;amp;NatSystem(\langle N, 0 \in N, s : N \to N\rangle): \
&amp;amp;\qquad \forall X \land a \in X \land r : X \to X \
&amp;amp;\qquad \qquad (\exists! x : N \to X \
&amp;amp;\qquad \qquad \qquad (x(0) = a \land \forall n \in N (x(s(n)) = r(x(n))))).
\end{align*}
$$&lt;/p&gt;
&lt;p&gt;Define the natural numbers as the following syntactic sugar:&lt;/p&gt;
&lt;p&gt;$$
\begin{align*}
&amp;amp;N, \
&amp;amp;0 \in N, \
&amp;amp;s : N \to N, \
&amp;amp;NatSystem(\langle N, 0, s \rangle). \
\vdash; &amp;amp;\mathbb{N} := N.
\end{align*}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ninth"&gt;Ninth&lt;/h2&gt;

&lt;div role="doc-epigraph" class="epigraph"&gt;
 &lt;blockquote&gt;
 There shall be natural numbers
 &lt;blockquote&gt;
&lt;/div&gt;
&lt;p&gt;$$
\vdash; \mathbb{N}.
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="intermezzo-3"&gt;Intermezzo&lt;/h3&gt;</content:encoded><category>Reference</category></item><item><title>Logarithm of a functor</title><link>http://localhost:1313/posts/log-cat/</link><pubDate>Sun, 07 Dec 2025 11:22:33 -0400</pubDate><author>sona@stau.space (Sona Tau Estrada Rivera)</author><dc:creator>Sona Tau Estrada Rivera</dc:creator><guid>http://localhost:1313/posts/log-cat/</guid><description>"What is the logarithm of a functor?"</description><content:encoded>&lt;p&gt;I was recently made aware of an interesting way to think about representable functors.&lt;/p&gt;
&lt;h1 id="setting-the-stage"&gt;Setting the stage&lt;/h1&gt;
&lt;p&gt;Let&amp;rsquo;s say you have a category $\cal{C}$ and endofunctors $F : \cal{C} \to \cal{C}$ and $\text{Id} : \cal{C} \to \cal{C}$ where $\text{Id}$ is the identity functor. For this demonstration, I will refer to the hom-functor $\hom(a, -)$ as $(-)^a$, the function set with an object missing. Furthermore, the Yoneda lemma says the following:&lt;/p&gt;

&lt;span role="presentation" id="lemma"&gt;&lt;/span&gt;
&lt;style&gt;
 #lemma {
 counter-reset: lemma;
 }
 .lemma::after {
 counter-increment: lemma;
 content: ' ' counter(lemma) '. ';
 }
&lt;/style&gt;
&lt;blockquote role="complementary"&gt;
 &lt;span class="lemma textssc" role="heading"&gt;Lemma&lt;/span&gt;
 Given a category $\cal{C}$ and a contravariant functor $F : \cal{C}^{\text{op}} \to \mathbf{Set}$ we have that for any $a \in \text{b}(\cal{C})$,
$$
F a \cong \text{hom}(\text{hom}(a, -), F).
$$
&lt;/blockquote&gt;
&lt;p&gt;There is something really neat when $F \cong \hom(a, -)$. This is called a &lt;strong&gt;representable functor&lt;/strong&gt;. This will be the star of the show here.&lt;/p&gt;
&lt;h2 id="examples"&gt;Examples&lt;/h2&gt;
&lt;p&gt;Let&amp;rsquo;s look at the &lt;code&gt;List&lt;/code&gt; and &lt;code&gt;Stream&lt;/code&gt; functors defined in Haskell, like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-haskell" data-lang="haskell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;type&lt;/span&gt; &lt;span class="kt"&gt;List&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;Cons&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;List&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="kt"&gt;Nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;instance&lt;/span&gt; &lt;span class="kt"&gt;Functor&lt;/span&gt; &lt;span class="kt"&gt;List&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="kr"&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;	&lt;span class="n"&gt;fmap&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="kt"&gt;Nil&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;Nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;	&lt;span class="n"&gt;fmap&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Cons&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;Cons&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fmap&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;type&lt;/span&gt; &lt;span class="kt"&gt;Stream&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;Cons&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Stream&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;-- Notice that this does not have a Nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;instance&lt;/span&gt; &lt;span class="kt"&gt;Functor&lt;/span&gt; &lt;span class="kt"&gt;Stream&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="kr"&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;	&lt;span class="n"&gt;fmap&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Cons&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;Cons&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fmap&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;My claim is that &lt;code&gt;Stream&lt;/code&gt; is representable. And in this case it will be naturally isomorphic to the hom-functor $\hom(\mathbb{N}, -)$ so here are the natural isomorphisms:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-haskell" data-lang="haskell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;index&lt;/span&gt; &lt;span class="ow"&gt;::&lt;/span&gt; &lt;span class="kt"&gt;Stream&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;Nat&lt;/span&gt; &lt;span class="ow"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;index&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Cons&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;\&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="ow"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kr"&gt;if&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="kr"&gt;then&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="kr"&gt;else&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;tabulate&lt;/span&gt; &lt;span class="ow"&gt;::&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Nat&lt;/span&gt; &lt;span class="ow"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;Stream&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;tabulate&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;Cons&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tabulate&amp;#39;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="kr"&gt;where&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;	&lt;span class="n"&gt;tabulate&amp;#39;&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;Cons&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tabulate&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;And now, &lt;code&gt;List&lt;/code&gt; cannot be representable, at least with the previous functor, because &lt;code&gt;index&lt;/code&gt; is not implementable:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-haskell" data-lang="haskell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;index&lt;/span&gt; &lt;span class="ow"&gt;::&lt;/span&gt; &lt;span class="kt"&gt;List&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;Nat&lt;/span&gt; &lt;span class="ow"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;index&lt;/span&gt; &lt;span class="kt"&gt;[]&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;\&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="ow"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;undefined&lt;/span&gt; &lt;span class="c1"&gt;-- There is no a for us to return here&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;index&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Cons&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;\&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="ow"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kr"&gt;if&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="kr"&gt;then&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="kr"&gt;else&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="the-meat-and-potatoes"&gt;The Meat and Potatoes&lt;/h2&gt;
&lt;p&gt;Now imagine this scenario:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Your Calculus professor goes up to you and gives you a pen and paper. He says, “Solve for x.” On this piece of paper, you have the following:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;$$
2 = 3^x.
$$&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You think to yourself: “This looks pretty simple, you should just take the &lt;em&gt;logarithm&lt;/em&gt;.” As such, you write on the piece of paper the following:
$$
\log_3(2) = x.
$$&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Your professor looks at your solution and says: “Marvelous, this is correct. Have a nice day!”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This scenario is obviously a joke, but let us not forget that a lot of notation in Category Theory seems to also be jokes or hints at some underlying structure. We have something called the &lt;em&gt;hom-functor&lt;/em&gt; which looks like this: $(-)^x$. What if we applied some sort of “logarithm” to this?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When our functor $F$ is representable, e.g., $F \cong (-)^x$, we have that $\log F = x$.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For a quick and dirty example, look at the endofunctor $\text{Id}$. In order for this functor to be representable, we need to enforce some requirements on $\cal{C}$. So for now, assume that it is representable to $\hom(a, -)$. The requirements are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Since $\text{codom}(\text{Id}) = \cal{C}$, then we need $\text{codom}(\hom(a, -)) = \cal{C}$. This means that $\cal{C}$ has internal homs.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Something fascinating happens when $F$ becomes a product or coproduct.&lt;/p&gt;
&lt;p&gt;Let $F$ be a product like $F a := a \times b$. Then,
$$&lt;/p&gt;
&lt;p&gt;$$&lt;/p&gt;</content:encoded><category>Fun</category></item><item><title>A Monad Is Not A Burrito</title><link>http://localhost:1313/posts/burritos/</link><pubDate>Sat, 21 Dec 2024 10:34:47 -0400</pubDate><author>sona@stau.space (Sona Tau Estrada Rivera)</author><dc:creator>Sona Tau Estrada Rivera</dc:creator><guid>http://localhost:1313/posts/burritos/</guid><description>Okay, it kind of is but that's like calling an airplane a car.</description><content:encoded>&lt;p&gt;Repeat after me:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A monad is &lt;em&gt;NOT&lt;/em&gt; a burrito.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;A monad is &lt;em&gt;NOT&lt;/em&gt; a taco.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;A monad is &lt;em&gt;NOT&lt;/em&gt; a wrapper.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id="achtung"&gt;Achtung!&lt;/h1&gt;
&lt;p&gt;This post will talk about Category Theory.
As complex and confusing as Category Theory is, I don&amp;rsquo;t think most of the things
mentioned here about Category Theory are that hard to understand.
In any case I would like to remove some of the gate keeping in the part of
Category Theory that intersects with the field of Computer Science.
Although some of these concepts are not entirely necessary for industry work I
do find understanding some of this can be a great help in tackling and thinking
about problems differently.&lt;/p&gt;
&lt;h1 id="introduction"&gt;Introduction&lt;/h1&gt;
&lt;p&gt;Before reading I do always like specifying what exactly you&amp;rsquo;re about to get
yourself into.
Here are the sections&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A functor is a burrito&lt;/li&gt;
&lt;li&gt;A monad is a functor&lt;/li&gt;
&lt;li&gt;What is a monad?&lt;/li&gt;
&lt;li&gt;Why do I care?&lt;/li&gt;
&lt;li&gt;Why should you care?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;As you might have noticed these sections are also kind of a TLDR.
Additionally, since we will talk about Category Theory, a category is just a
collection of &lt;em&gt;objects&lt;/em&gt; with &lt;em&gt;morphisms&lt;/em&gt; between them.
Graphically, we can draw this as arrows between dots.
For us, computer scientists, the &amp;ldquo;objects&amp;rdquo; will always be the types in our
programming language of our choice, and the &amp;ldquo;morphisms&amp;rdquo; are just functions
between those types.
We don&amp;rsquo;t really care about other categories unless you go very deep into
Category Theory, which we will not do.
An example of this would be:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;is_even&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;bool&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kc"&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;In this case, we have a function that takes an &lt;code&gt;int&lt;/code&gt; and returns a
&lt;code&gt;bool&lt;/code&gt;.
In our category we will see this as an arrow being drawn from the dot that says
&lt;code&gt;int&lt;/code&gt; to the dot that says &lt;code&gt;bool&lt;/code&gt; and that arrow&amp;rsquo;s name will be &lt;code&gt;is_even&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://localhost:1313/intro1.png" alt="Our new category"&gt;&lt;/p&gt;
&lt;p&gt;Another example could be:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-c" data-lang="c"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// C
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;only_forty_two&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;In which case our category would look like:&lt;/p&gt;
&lt;p&gt;&lt;img src="http://localhost:1313/intro2.png" alt="Only forty two"&gt;&lt;/p&gt;
&lt;h1 id="a-functor-is-a-burrito"&gt;A functor is a burrito&lt;/h1&gt;
&lt;p&gt;Don&amp;rsquo;t worry I will explain what a functor is in a moment.
I want you to keep in the back of your mind the idea of a burrito: a tortilla
filled with deliciousness inside.&lt;/p&gt;
&lt;p&gt;In Category Theory, we define a &amp;ldquo;functor&amp;rdquo; as a mapping between categories.
But remember, since we&amp;rsquo;re computer scientists, we only care about the category
of types and functions.
That means a functor for us would go from the category of functions and types
back towards the category of functions and types.
It would look exactly like the second example in the introduction, where
&lt;code&gt;only_forty_two&lt;/code&gt; is our functor, and &lt;code&gt;int&lt;/code&gt; is the category of types and
functions.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;But what does it mean to &amp;ldquo;go from the category of types back to the category
of types&amp;rdquo;??&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let&amp;rsquo;s just assume we already have a functor that does this and let&amp;rsquo;s call it
&lt;code&gt;F&lt;/code&gt;.
How does &lt;code&gt;F&lt;/code&gt; look like and what does it do?
Well this functor &lt;code&gt;F&lt;/code&gt;, in order to actually be a functor, needs to take
objects, types in our case, and map them to other objects, also types in this
case.
Additionally, it needs to take a function between those types and map it to
another function, but we will see this later.
Let&amp;rsquo;s focus on the first part, mapping types to other types.
Where have we seen this before? &amp;hellip;
A function that takes in a type as a parameter and outputs a type.
This seems very similar to:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-c++" data-lang="c++"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// C++
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-rust" data-lang="rust"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// Rust
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="nb"&gt;Vec&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;In this case, &lt;code&gt;std::vector&lt;/code&gt;, &lt;code&gt;list&lt;/code&gt; and &lt;code&gt;Vec&lt;/code&gt; take in a type &lt;code&gt;T&lt;/code&gt; and output a
new type, &lt;code&gt;std::vector&amp;lt;T&amp;gt;&lt;/code&gt;, &lt;code&gt;list[T]&lt;/code&gt; and &lt;code&gt;Vec[T]&lt;/code&gt; respectively.
This means that a functor &lt;strong&gt;must&lt;/strong&gt; be a wrapper around a type&amp;hellip;
A &lt;strong&gt;burrito&lt;/strong&gt; if you will.
So every time you think about wrapping some type, remember, this is a functor.
Some extra notation, that will be useful in a moment, is to call a type &lt;code&gt;a&lt;/code&gt; that
gets wrapped with our example functor &lt;code&gt;F&lt;/code&gt; as &lt;code&gt;F a&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Secondly, our functor &lt;code&gt;F&lt;/code&gt; has to take a function &lt;code&gt;func&lt;/code&gt; between two types &lt;code&gt;a&lt;/code&gt;,
&lt;code&gt;b&lt;/code&gt; and map it to a function called &lt;code&gt;F func&lt;/code&gt; that goes between &lt;code&gt;F a&lt;/code&gt; and &lt;code&gt;F b&lt;/code&gt;.
Since we are defining a new &amp;ldquo;mapping thingamabob&amp;rdquo; that has to happen, this means
we need to define a new function.
Let&amp;rsquo;s call that function &lt;code&gt;fmap&lt;/code&gt; for no particular reason!
Our setup will now look like the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a function: &lt;code&gt;fmap&lt;/code&gt; that takes a &lt;code&gt;(a -&amp;gt; b, F a)&lt;/code&gt; and produces an &lt;code&gt;F b&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;a function: &lt;code&gt;func&lt;/code&gt; that takes an &lt;code&gt;a&lt;/code&gt; and produces a &lt;code&gt;b&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;a type: &lt;code&gt;F a&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Our setup looks like this:
&lt;img src="http://localhost:1313/sect2.1.png" alt="Setup"&gt;
The idea behind &lt;code&gt;fmap&lt;/code&gt; is that it puts the input side of &lt;code&gt;func&lt;/code&gt; inside the &lt;code&gt;F&lt;/code&gt;
box that has an &lt;code&gt;a&lt;/code&gt; in it, &lt;code&gt;func&lt;/code&gt; will transform that &lt;code&gt;a&lt;/code&gt; into a &lt;code&gt;b&lt;/code&gt; inside that
&lt;code&gt;F&lt;/code&gt; box, and that is what we want &lt;code&gt;fmap&lt;/code&gt; to do.
Kind of like this:
&lt;img src="http://localhost:1313/sect2.2.png" alt="fmap"&gt;&lt;/p&gt;
&lt;p&gt;Functors are very common in category theory.
They might have a scary name but they are actually very simple building blocks
used for other more complex category theory things.
For us computer scientists, they are just burritos!&lt;/p&gt;
&lt;h1 id="a-monad-is-a-functor"&gt;A monad is a functor&lt;/h1&gt;
&lt;p&gt;For this we will have to tackle two concepts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;endofunctor&lt;/li&gt;
&lt;li&gt;monoid&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Both are very simple, don&amp;rsquo;t worry.
An endofunctor is a functor that goes from the same category to itself.
For us computer scientists, all our functors are endofunctors.
It would be impossible to create a functor that is not an endofunctor in our
situation.
Additionally, a monoid is a category that has 1 object.&lt;/p&gt;
&lt;p&gt;I would like to spend a moment to develop some intuition on monoids.
Since a monoid is a category that has only 1 object, all of the morphisms come
and go from the same, singular, object.
In our category of types and functions we can create a monoid.
The second example of the introduction is a monoid!
Additionally, I want you to think what would happen if we kept adding functions
to that monoid.
We would have a single type with a huge set of functions we can compose!
The intuition in this case is: a monoid is a way to think about composing
functions.&lt;/p&gt;
&lt;h1 id="what-is-a-monad"&gt;What is a Monad?&lt;/h1&gt;
&lt;p&gt;Let&amp;rsquo;s see what Wikipedia defines a &amp;ldquo;monad&amp;rdquo; as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In concise terms, a monad is a monoid in the category of endofunctors of some
fixed category.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No need to take this definition apart piece by piece, it is not necessary.
The idea behind the monad is that we have a way to construct a special &amp;ldquo;monoid&amp;rdquo;.
(Remember what I said about composition and monoids.)
The single object in this category will be our functor &lt;code&gt;F&lt;/code&gt;, which just so
happens to be an endofunctor.
We have a special morphism in this monoid that will ensure that we can compose
types produced by this functor.
We will call this function &lt;code&gt;&amp;gt;&amp;gt;=&lt;/code&gt; or &lt;code&gt;bind&lt;/code&gt; for no particular reason!
This function will take some type &lt;code&gt;F a&lt;/code&gt; and a function that produces another
type &lt;code&gt;a -&amp;gt; F b&lt;/code&gt;, and will produce a type &lt;code&gt;F b&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In this case, a monad&amp;rsquo;s special ability is just to make sure you can compose
different functions with this functor.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s do an example.
We need a wrapper, let&amp;rsquo;s use &lt;code&gt;Option&lt;/code&gt; from Rust as our functor!
We then have:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-rust" data-lang="rust"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;fn&lt;/span&gt; &lt;span class="nf"&gt;bind&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;opt&lt;/span&gt;: &lt;span class="nb"&gt;Option&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;: &lt;span class="nc"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-&amp;gt; &lt;span class="nb"&gt;Option&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-&amp;gt; &lt;span class="nb"&gt;Option&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;match&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;opt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;Some&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;None&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;None&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;This makes more sense once we start using &lt;code&gt;bind&lt;/code&gt; to compose lots of these
&lt;code&gt;func&lt;/code&gt;&amp;rsquo;s together!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-rust" data-lang="rust"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kd"&gt;let&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;option&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to_int&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to_char&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to_string&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to_float&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;This looks prettier in Haskell:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-hs" data-lang="hs"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;let&lt;/span&gt; &lt;span class="kr"&gt;_&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="n"&gt;option&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;to_int&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;to_char&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;to_string&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;to_float&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id="why-do-i-care"&gt;Why do I care?&lt;/h1&gt;
&lt;p&gt;I see people say:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;but a monad is a burrito&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;way too much online&amp;hellip;
I think that there is a far greater intuition that can be achieved behind
thinking about monads as just composition, instead of as a &amp;ldquo;burrito&amp;rdquo;.
Additionally, I think it would be interesting to see people use &amp;ldquo;functor&amp;rdquo; as
common terminology when they&amp;rsquo;re just referring to a type constructor/wrapper or
whatever you want to call that.&lt;/p&gt;
&lt;h1 id="why-should-you-care"&gt;Why should you care?&lt;/h1&gt;
&lt;p&gt;idk. but I hope this was cool to read about.
Anyways, here&amp;rsquo;s a JSON parser using lots of these concepts in just 100 lines of
code:
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;"&gt;
 &lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube-nocookie.com/embed/N9RUqGYuGfw?autoplay=0&amp;amp;controls=1&amp;amp;end=0&amp;amp;loop=0&amp;amp;mute=0&amp;amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"&gt;&lt;/iframe&gt;
 &lt;/div&gt;
&lt;/p&gt;</content:encoded><category>Areas</category></item><item><title>Zig CTFP</title><link>http://localhost:1313/posts/zig-ctfp/</link><pubDate>Wed, 07 Aug 2024 11:38:20 -0400</pubDate><author>sona@stau.space (Sona Tau Estrada Rivera)</author><dc:creator>Sona Tau Estrada Rivera</dc:creator><guid>http://localhost:1313/posts/zig-ctfp/</guid><description>Zig is a functional programming language</description><content:encoded>&lt;p&gt;Let this blog post be living proof that Zig is in fact also a functional
programming language.&lt;/p&gt;
&lt;h2 id="what"&gt;What?&lt;/h2&gt;
&lt;p&gt;Well, there is a famous book called &amp;ldquo;Category Theory For Programmers&amp;rdquo; (in
short, CTFP) that expresses a lot of the core ideas of functional programming
through category theory. CTFP has a set of challenges at the end of each
chapter, and I aim to do all of them in Zig.&lt;/p&gt;
&lt;h2 id="challenges"&gt;Challenges&lt;/h2&gt;
&lt;h3 id="141"&gt;1.4.1&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Implement, as best you can, the identity function in your favorite language
(or the second favorite, if your favorite language happens to be Haskell).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For functional programming we will make heavy use of anonymous functions. So a
recurring pattern we will see is the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zig" data-lang="zig"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;body&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;here&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="p"&gt;}.&lt;/span&gt;&lt;span class="n"&gt;call&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// Notice this .call will make the expression return a function pointer.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="solution"&gt;Solution:&lt;/h4&gt;
&lt;p&gt;So this challenge becomes very easy:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zig" data-lang="zig"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kr"&gt;comptime&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}.&lt;/span&gt;&lt;span class="n"&gt;call&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// The .call for id.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;PS.&lt;/p&gt;
&lt;p&gt;Since we don&amp;rsquo;t have function type inference in zig, we will make use of types as
values. So the function call looks like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zig" data-lang="zig"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;Some may be somewhat bothered by this syntax. But I think this is still fair
since C++&amp;rsquo;s version of &lt;code&gt;id&lt;/code&gt; without type inference (ie. using templates) is:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-cpp" data-lang="cpp"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="142"&gt;1.4.2&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Implement the composition function in your favorite language. It takes two
functions as arguments and returns a function that is their composition.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is still very similar to the previous challenge but we do it twice nested.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zig" data-lang="zig"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;compose&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;g&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}.&lt;/span&gt;&lt;span class="n"&gt;call&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}.&lt;/span&gt;&lt;span class="n"&gt;call&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="solution-1"&gt;Solution:&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zig" data-lang="zig"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;square_one&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;compose&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;square&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;inc&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;You might notice that this only works for unary functions&amp;hellip; Maybe in the future
I&amp;rsquo;ll find a way to compose stuff in a better way. (maybe structs to pass multiple
parameters in a single parameter?)&lt;/p&gt;
&lt;h3 id="143"&gt;1.4.3&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Write a program that tries to test that your composition function respects
identity.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For this we need to verify that:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;f . id = f&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;id . f = f&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="solution-2"&gt;Solution:&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zig" data-lang="zig"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;test&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;#34;1.4.3&amp;#34;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kr"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;inc&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kr"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fid&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;compose&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;inc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kr"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;idf&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;compose&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="nf"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;inc&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;testing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;expectEqual&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;fid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;testing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;expectEqual&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;idf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="271"&gt;2.7.1&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Define a higher-order function (or a function object) &lt;code&gt;memoize&lt;/code&gt; in your
favorite language. This function takes a pure function &lt;code&gt;f&lt;/code&gt; as an argument and
returns a function that behaves almost exactly like &lt;code&gt;f&lt;/code&gt;, except that it only
calls the original function once for every argument, stores the result
internallly, and subsequently returns this stored result every time it&amp;rsquo;s called
with the same argument. You can tell the memoize function from the original by
watching its preformance. For instance, try to memoize a function that takes a
long time to evaluate. You&amp;rsquo;ll have to wait for the result the first time you
call it, but on sebsquent calls, with the same argument, you should get the
result immediately.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This one&amp;rsquo;s a doozy&amp;hellip;
Basically we need to create a function that will memoize another function.
As elegantly expressed in &lt;a href="https://matt.might.net/articles/closure-conversion/" target="_blank" rel="external noopener noreferrer nofollow"&gt;Closure Conversion: How to compile lambda&lt;/a&gt;
a closure is simply a lambda that can capture its environment. The way we
capture the environment is simply by adding more data fields to the struct!
So we simply add a &lt;code&gt;AutoHashMap&lt;/code&gt; as a data field to the struct.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zig" data-lang="zig"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;memoize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kr"&gt;comptime&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kr"&gt;comptime&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;type&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;type&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kr"&gt;comptime&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;type&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kr"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mp&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;HashMap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hash_map&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;AutoContext&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;AutoHashMap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nf"&gt;init&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;testing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;allocator&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kr"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;val&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;val&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kr"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;new_val&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;put&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;new_val&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;catch&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{};&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;new_val&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;deinit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;deinit&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// Notice there isn&amp;#39;t a .call here. The caller must call this
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// closure with .call(args)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}.&lt;/span&gt;&lt;span class="n"&gt;call&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="solution-3"&gt;Solution&lt;/h4&gt;
&lt;p&gt;And it works!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zig" data-lang="zig"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;memo_fib&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;memoize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;fib&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="k"&gt;defer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;memo_fib&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;deinit&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;testing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;expectEqual&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;fib&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;memo_fib&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="272"&gt;2.7.2&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Try to memoize a function from your standard library that you normally use to
produce random numbers. Does it work?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Apparently, it does!
But this is only because it is being executed with the same seed, at
compiletime.&lt;/p&gt;
&lt;h4 id="solution-4"&gt;Solution:&lt;/h4&gt;
&lt;p&gt;Since I haven&amp;rsquo;t figured out how to pass functions with different arity, we must
create a wrapper for the standard library&amp;rsquo;s rng. This function will get rid of
that argument since we don&amp;rsquo;t need it to produce the random numbers.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zig" data-lang="zig"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;fn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kr"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;RndGen&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DefaultPrng&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kr"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;rnd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;RndGen&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;init&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;@as&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;u64&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;@bitCast&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;milliTimestamp&lt;/span&gt;&lt;span class="p"&gt;())));&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;rnd&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;random&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="nf"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// Helper function
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="kr"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;RndGen&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DefaultPrng&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="kr"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;rnd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;RndGen&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;init&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;@as&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;u64&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;@bitCast&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;milliTimestamp&lt;/span&gt;&lt;span class="p"&gt;())));&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="kr"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;memo_rnd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;memoize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="k"&gt;defer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;memo_rnd&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;deinit&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;testing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;expectEqual&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rnd&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;random&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="nf"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;i32&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;memo_rnd&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="la-fin"&gt;La Fin&lt;/h2&gt;
&lt;p&gt;This is what I&amp;rsquo;ve gotten up until now. Zig&amp;rsquo;s syntax is ugly, and I&amp;rsquo;m not
particularly excited about it&amp;rsquo;s design philosophy but damn is it a solid
language. This little challenge has made me enjoy Zig a lot more than I thought.&lt;/p&gt;</content:encoded><category>Areas</category></item></channel></rss>